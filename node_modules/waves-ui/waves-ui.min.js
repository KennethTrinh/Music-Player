!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.wavesUI=e()}}(function(){return function e(t,r,n){function i(a,l){if(!r[a]){if(!t[a]){var o="function"==typeof require&&require;if(!l&&o)return o(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/namespace"),u=l(o),c=e("../core/layer"),h=l(c),f=function(e){function t(e,r){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",[],r),this._generator=e}return i(t,e),s(t,[{key:"_generateData",value:function(){var e=this._generator(this.timeContext);e.unshift(0,this.data[0].length),Array.prototype.splice.apply(this.data[0],e)}},{key:"_updateRenderingContext",value:function(){this._renderingContext.timeToPixel=this.timeContext.timeToPixel,this._renderingContext.valueToPixel=this._valueToPixel,this._renderingContext.height=this.params.height,this._renderingContext.width=this.timeContext.timeToPixel(this.timeContext.duration),this._renderingContext.offsetX=this.timeContext.timeToPixel(this.timeContext.offset),this._renderingContext.trackOffsetX=this.timeContext.timeToPixel(this.timeContext.offset),this._renderingContext.visibleWidth=this.timeContext.visibleWidth}},{key:"update",value:function(){this._generateData(),n(Object.getPrototypeOf(t.prototype),"update",this).call(this)}},{key:"_renderContainer",value:function(){this.$el=document.createElementNS(u["default"],"g"),null!==this.params.className&&this.$el.classList.add("layer",this.params.className),this.$offset=document.createElementNS(u["default"],"g"),this.$offset.classList.add("offset","items"),this.$background=document.createElementNS(u["default"],"rect"),this.$background.setAttributeNS(null,"height","100%"),this.$background.classList.add("background"),this.$background.style.fillOpacity=0,this.$background.style.pointerEvents="none",this.$el.appendChild(this.$offset),this.$offset.appendChild(this.$background)}},{key:"updateContainer",value:function(){this._updateRenderingContext();var e=this.params.top,t=this.params.height,r="matrix(1, 0, 0, -1, 0, "+(e+t)+")";this.$el.setAttributeNS(null,"transform",r),this.$background.setAttributeNS(null,"width",t)}},{key:"stretchRatio",set:function(e){},get:function(){}},{key:"offset",set:function(e){},get:function(){}},{key:"start",set:function(e){},get:function(){}},{key:"duration",set:function(e){},get:function(){}},{key:"generator",set:function(e){this._generator=e},get:function(){return this._generator}}]),t}(h["default"]);r["default"]=f,t.exports=r["default"]},{"../core/layer":11,"../core/namespace":12,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],2:[function(e,t,r){"use strict";function n(e,t){var r=e/60,n=(1/parseInt(t.split("/")[1],10),parseInt(t.split("/")[0],10));return function(e){for(var t=e.visibleDuration,i=e.offset,s=[],a=-i,l=t-i,o=e.computedPixelsPerSecond,u=1/r,c=a%u,h=(a-c)/u,f=u*h,d=h%n,p=o/r,m=5,b=f;l>b;b+=u){var v=d++%n===0;m>=p&&!v||s.push({time:b,focused:v})}return s}}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n,t.exports=r["default"]},{}],3:[function(e,t,r){"use strict";function n(){return function(e){var t=e.visibleDuration,r=e.offset,n=[],s=-r,a=t-r,l=e.computedPixelsPerSecond,o=7,u=void 0,c=void 0,h=void 0,f=void 0,d=void 0;4*l>o&&(u=1,h=0,f=60,d=5,c="60sec"),2*l>o&&(u=1,h=0,f=30,d=1,c="30sec"),l>o&&(u=1,h=0,f=10,d=1,c="sec"),l/10>o&&(u=.1,h=1,f=10,d=1,c="ds"),l/100>o&&(u=.01,h=2,f=10,d=1,c="cs"),l/1e3>o&&(u=.001,h=3,f=10,d=1,c="ms");for(var p=s;a>p;p+=u){var m=p.toFixed(h);if(Math.round(m/u)%d===0){var b=Math.round(m/u)%f===0?!0:!1,v={time:m,focused:b};if(b===!0){var y=new Date(1e3*m),g=(0,i.padLeft)(y.getMinutes(),0,2),$=(0,i.padLeft)(y.getSeconds(),0,2),x=(0,i.padLeft)(y.getMilliseconds(),0,3),_=g+":"+$+":"+x;v.label=_}n.push(v)}}return n}}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n;var i=e("../utils/format");t.exports=r["default"]},{"../utils/format":52}],4:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/to-consumable-array")["default"],a=e("babel-runtime/core-js/set")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function e(){i(this,e),this._selectedItems=new a,this._selectedClass=null,this._layer=null}return n(e,[{key:"initialize",value:function(e){this._layer=e,this._selectedClass=e.params.selectedClassName}},{key:"destroy",value:function(){this._selectedItems.clear()}},{key:"select",value:function(e,t){e.classList.add(this.selectedClass),this._selectedItems.add(e)}},{key:"unselect",value:function(e,t){e.classList.remove(this.selectedClass),this._selectedItems["delete"](e)}},{key:"toggleSelection",value:function(e,t){var r=this._selectedItems.has(e)?"unselect":"select";this[r](e)}},{key:"edit",value:function(e,t,r,n,i,s){}},{key:"selectedClass",set:function(e){this._selectedClass=e},get:function(){return this._selectedClass}},{key:"selectedItems",get:function(){return[].concat(s(this._selectedItems))}}]),e}();r["default"]=l,t.exports=r["default"]},{"babel-runtime/core-js/set":67,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/to-consumable-array":76}],5:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-behavior"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"edit",value:function(e,t,r,n,i,s){var a=this._layer.data,l=e.height,o=e.timeToPixel(t.cx(r)),u=e.valueToPixel(t.cy(r)),c=o+n,h=u-i;if(a.length>2){var f=a.map(function(r){return e.timeToPixel(t.cx(r))});f.sort(function(e,t){return t>e?-1:1});var d=f.indexOf(o);(c<f[d-1]||c>f[d+1])&&(c=o)}0>h?h=0:h>l&&(h=l),t.cx(r,e.timeToPixel.invert(c)),t.cy(r,e.valueToPixel.invert(h))}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-behavior":4,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],6:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-behavior"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"edit",value:function(e,t,r,n,i,s){var a=e.timeToPixel(t.x(r)),l=a+n>0?a+n:0;t.x(r,e.timeToPixel.invert(l))}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-behavior":4,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],7:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-behavior"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"edit",value:function(e,t,r,n,i,s){var a=s.classList,l="move";a.contains("handler")&&a.contains("left")?l="resizeLeft":a.contains("handler")&&a.contains("right")&&(l="resizeRight"),this["_"+l](e,t,r,n,i,s)}},{key:"_move",value:function(e,t,r,n,i,s){var a=e.height,l=e.timeToPixel(t.x(r)),o=e.valueToPixel(t.y(r)),u=e.valueToPixel(t.height(r)),c=Math.max(l+n,0),h=o-i;0>h?h=0:h+u>a&&(h=a-u),t.x(r,e.timeToPixel.invert(c)),t.y(r,e.valueToPixel.invert(h))}},{key:"_resizeLeft",value:function(e,t,r,n,i,s){var a=e.timeToPixel(t.x(r)),l=e.timeToPixel(t.width(r)),o=a+l,u=o>a+n?Math.max(a+n,0):a,c=0!==u?Math.max(l-n,1):l;t.x(r,e.timeToPixel.invert(u)),t.width(r,e.timeToPixel.invert(c))}},{key:"_resizeRight",value:function(e,t,r,n,i,s){var a=e.timeToPixel(t.width(r)),l=Math.max(a+n,1);t.width(r,e.timeToPixel.invert(l))}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-behavior":4,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],8:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(){i(this,e)}return n(e,[{key:"edit",value:function(e,t,r,n){var i=e.timeContext;n.classList.contains("handler")&&n.classList.contains("left")?this._editLeft(i,t):n.classList.contains("handler")&&n.classList.contains("right")?this._editRight(i,t):n.classList.contains("segment")&&this._move(i,t)}},{key:"_editLeft",value:function(e,t){var r=e.parent.timeToPixel(e.start),n=e.timeToPixel(e.offset),i=e.timeToPixel(e.duration),s=r+t,a=n-t,l=Math.max(i-t,1);e.start=e.parent.timeToPixel.invert(s),e.offset=e.timeToPixel.invert(a),e.duration=e.timeToPixel.invert(l)}},{key:"_editRight",value:function(e,t){var r=e.timeToPixel(e.duration),n=Math.max(r+t,1);e.duration=e.timeToPixel.invert(n)}},{key:"_move",value:function(e,t){var r=e.parent.timeToPixel(e.start),n=Math.max(r+t,0);e.start=e.parent.timeToPixel.invert(n)}},{key:"stretch",value:function(e,t,r,n){var i=e.timeContext,s=i.duration,a=i.offset;this.edit(e,t,r,n);var l=i.duration,o=l/s;i.stretchRatio*=o,i.offset=a,i.duration=s}}]),e}();r["default"]=s,t.exports=r["default"]},{"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71}],9:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-behavior"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"edit",value:function(e,t,r,n,i,s){s.classList.contains("min")?this._editRange(e,t,r,n,i,"min"):s.classList.contains("max")?this._editRange(e,t,r,n,i,"max"):this._editMean(e,t,r,n,i)}},{key:"_editMean",value:function(e,t,r,n,i){var s=e.timeToPixel(t.x(r)),a=e.valueToPixel(t.mean(r)),l=s+n,o=a-i;t.x(r,e.timeToPixel.invert(l)),t.mean(r,e.valueToPixel.invert(o))}},{key:"_editRange",value:function(e,t,r,n,i,s){var a=e.valueToPixel(t.range(r)),l="min"===s?a+2*i:a-2*i;l=Math.max(l,0),t.range(r,e.valueToPixel.invert(l))}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-behavior":4,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],10:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("../utils/scales"),l=s(a),o=function(){function e(t){if(i(this,e),!t)throw new Error("LayerTimeContext must have a parent");this.parent=t,this._timeToPixel=null,this._start=0,this._duration=t.visibleDuration,this._offset=0,this._stretchRatio=1,this.parent._children.push(this)}return n(e,[{key:"clone",value:function(){var e=new this;return e.parent=this.parent,e.start=this.start,e.duration=this.duration,e.offset=this.offset,e.stretchRatio=this.stretchRatio,e}},{key:"pixelToTime",value:function(e){return this._timeToPixel?this._timeToPixel.invert(e):this.parent.timeToPixel.invert(e)}},{key:"start",get:function(){return this._start},set:function(e){this._start=e}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"offset",get:function(){return this._offset},set:function(e){this._offset=e}},{key:"stretchRatio",get:function(){return this._stretchRatio},set:function(e){if(1===e)return void(this._timeToPixel=null);var t=this._timeToPixel?this._timeToPixel:l["default"].linear().domain([0,1]);t.range([0,this.parent.computedPixelsPerSecond*e]),this._timeToPixel=t,this._stretchRatio=e}},{key:"timeToPixel",get:function(){return this._timeToPixel?this._timeToPixel:this.parent.timeToPixel}}]),e}();r["default"]=o,t.exports=r["default"]},{"../utils/scales":54,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/interop-require-default":74}],11:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/core-js/object/assign")["default"],u=e("babel-runtime/core-js/map")["default"],c=e("babel-runtime/core-js/get-iterator")["default"],h=e("babel-runtime/core-js/array/from")["default"],f=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var d=e("events"),p=f(d),m=e("./namespace"),b=f(m),v=e("../utils/scales"),y=f(v),g=e("../shapes/segment"),$=f(g),x=e("../behaviors/time-context-behavior"),_=f(x),k=null,j=_["default"],w=function(e){function t(e,r){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var s={height:100,top:0,opacity:1,yDomain:[0,1],className:null,selectedClassName:"selected",contextHandlerWidth:2,hittable:!0,id:"",overflow:"hidden"};this.params=o({},s,i),this.dataType=e,this.timeContext=null,this.$el=null,this.$background=null,this.$boundingBox=null,this.$offset=null,this.$interactions=null,this.contextShape=null,this._shapeConfiguration=null,this._commonShapeConfiguration=null,this._$itemShapeMap=new u,this._$itemDataMap=new u,this._$itemCommonShapeMap=new u,this._isContextEditable=!1,this._behavior=null,this.data=r,this._valueToPixel=y["default"].linear().domain(this.params.yDomain).range([0,this.params.height]),this._renderContainer(),null===k&&(k=new j)}return i(t,e),s(t,[{key:"destroy",value:function(){this.timeContext=null,this.data=null,this.params=null,this._behavior=null,this._$itemShapeMap.clear(),this._$itemDataMap.clear(),this._$itemCommonShapeMap.clear(),this.removeAllListeners()}},{key:"_renderContainer",value:function(){var e=this;this.$el=document.createElementNS(b["default"],"g"),this.$el.classList.add("layer"),null!==this.params.className&&this.$el.classList.add(this.params.className),this.$boundingBox=document.createElementNS(b["default"],"svg"),this.$boundingBox.classList.add("bounding-box"),this.$boundingBox.style.overflow=this.params.overflow,this.$offset=document.createElementNS(b["default"],"g"),this.$offset.classList.add("offset","items"),this.$background=document.createElementNS(b["default"],"rect"),this.$background.setAttributeNS(null,"height","100%"),this.$background.setAttributeNS(null,"width","100%"),this.$background.classList.add("background"),this.$background.style.fillOpacity=0,this.$background.style.pointerEvents="none",this.$interactions=document.createElementNS(b["default"],"g"),this.$interactions.classList.add("interactions"),this.$interactions.style.display="none",this.contextShape=new $["default"],this.contextShape.install({opacity:function(){return.1},color:function(){return"#787878"},width:function(){return e.timeContext.duration},height:function(){return e._renderingContext.valueToPixel.domain()[1]},y:function(){return e._renderingContext.valueToPixel.domain()[0]}}),this.$interactions.appendChild(this.contextShape.render()),this.$el.appendChild(this.$boundingBox),this.$boundingBox.appendChild(this.$offset),this.$offset.appendChild(this.$background),this.$boundingBox.appendChild(this.$interactions)}},{key:"setTimeContext",value:function(e){this.timeContext=e,this._renderingContext={},this._updateRenderingContext()}},{key:"configureShape",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this._shapeConfiguration={ctor:e,accessors:t,options:r}}},{key:"configureCommonShape",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this._commonShapeConfiguration={ctor:e,accessors:t,options:r}}},{key:"setBehavior",value:function(e){e.initialize(this),this._behavior=e}},{key:"_updateRenderingContext",value:function(){this._renderingContext.timeToPixel=this.timeContext.timeToPixel,this._renderingContext.valueToPixel=this._valueToPixel,this._renderingContext.height=this.params.height,this._renderingContext.width=this.timeContext.timeToPixel(this.timeContext.duration),this._renderingContext.offsetX=this.timeContext.timeToPixel(this.timeContext.offset),this._renderingContext.startX=this.timeContext.parent.timeToPixel(this.timeContext.start),this._renderingContext.trackOffsetX=this.timeContext.parent.timeToPixel(this.timeContext.parent.offset),this._renderingContext.visibleWidth=this.timeContext.parent.visibleWidth}},{key:"select",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if(this._behavior){t.length||(t=this._$itemDataMap.keys()),Array.isArray(t[0])&&(t=t[0]);var n=!0,i=!1,s=void 0;try{for(var a,l=c(t);!(n=(a=l.next()).done);n=!0){var o=a.value,u=this._$itemDataMap.get(o);this._behavior.select(o,u),this._toFront(o)}}catch(h){i=!0,s=h}finally{try{!n&&l["return"]&&l["return"]()}finally{if(i)throw s}}}}},{key:"unselect",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if(this._behavior){t.length||(t=this._$itemDataMap.keys()),Array.isArray(t[0])&&(t=t[0]);var n=!0,i=!1,s=void 0;try{for(var a,l=c(t);!(n=(a=l.next()).done);n=!0){var o=a.value,u=this._$itemDataMap.get(o);this._behavior.unselect(o,u)}}catch(h){i=!0,s=h}finally{try{!n&&l["return"]&&l["return"]()}finally{if(i)throw s}}}}},{key:"toggleSelection",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if(this._behavior){t.length||(t=this._$itemDataMap.keys()),Array.isArray(t[0])&&(t=t[0]);var n=!0,i=!1,s=void 0;try{for(var a,l=c(t);!(n=(a=l.next()).done);n=!0){var o=a.value,u=this._$itemDataMap.get(o);this._behavior.toggleSelection(o,u)}}catch(h){i=!0,s=h}finally{try{!n&&l["return"]&&l["return"]()}finally{if(i)throw s}}}}},{key:"edit",value:function(e,t,r,n){if(this._behavior){e=Array.isArray(e)?e:[e];var i=!0,s=!1,a=void 0;try{for(var l,o=c(e);!(i=(l=o.next()).done);i=!0){var u=l.value,h=this._$itemShapeMap.get(u),f=this._$itemDataMap.get(u);this._behavior.edit(this._renderingContext,h,f,t,r,n),this.emit("edit",h,f)}}catch(d){s=!0,a=d}finally{try{!i&&o["return"]&&o["return"]()}finally{if(s)throw a}}}}},{key:"setContextEditable",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],t=e?"block":"none";this.$interactions.style.display=t,this._isContextEditable=e}},{key:"editContext",value:function(e,t,r){k.edit(this,e,t,r)}},{key:"stretchContext",value:function(e,t,r){k.stretch(this,e,t,r)}},{key:"getItemFromDOMElement",value:function(e){var t=void 0;do{if(e.classList&&e.classList.contains("item")){t=e;break}e=e.parentNode}while(null!==e);return this.hasItem(t)?t:null}},{key:"getDatumFromItem",value:function(e){var t=this._$itemDataMap.get(e);return t?t:null}},{key:"getDatumFromDOMElement",value:function(e){var t=this.getItemFromDOMElement(e);return null===t?null:this.getDatumFromItem(t)}},{key:"hasItem",value:function(e){return this._$itemDataMap.has(e)}},{key:"hasElement",value:function(e){do{if(e===this.$el)return!0;e=e.parentNode}while(null!==e);return!1}},{key:"getItemsInArea",value:function(e){var t=this.timeContext.parent.timeToPixel(this.timeContext.start),r=this.timeContext.timeToPixel(this.timeContext.duration),n=this.timeContext.timeToPixel(this.timeContext.offset),i=(this.params.top,Math.max(e.left,t)),s=Math.min(e.left+e.width,t+r);i-=t+n,s-=t+n;var a=this.params.height-(e.top+e.height),o=this.params.height-e.top;a+=this.params.top,o+=this.params.top;var u=[],h=!0,f=!1,d=void 0;try{for(var p,m=c(this._$itemDataMap.entries());!(h=(p=m.next()).done);h=!0){var b=l(p.value,2),v=b[0],y=b[1],g=this._$itemShapeMap.get(v),$=g.inArea(this._renderingContext,y,i,a,s,o);$&&u.push(v)}}catch(x){f=!0,d=x}finally{try{!h&&m["return"]&&m["return"]()}finally{if(f)throw d}}return u}},{key:"_toFront",value:function(e){this.$offset.appendChild(e)}},{key:"render",value:function(){var e=this;if(null!==this._commonShapeConfiguration&&0===this._$itemCommonShapeMap.size){var t=this._commonShapeConfiguration,r=t.ctor,n=t.accessors,i=t.options,s=document.createElementNS(b["default"],"g"),a=new r(i);a.install(n),s.appendChild(a.render()),s.classList.add("item","common",a.getClassName()),this._$itemCommonShapeMap.set(s,a),this.$offset.appendChild(s)}var o=document.createDocumentFragment(),u=this._$itemDataMap.values();this.data.forEach(function(t){var r=!0,n=!1,i=void 0;try{for(var s,a=c(u);!(r=(s=a.next()).done);r=!0){var l=s.value;if(l===t)return}}catch(h){n=!0,i=h}finally{try{!r&&a["return"]&&a["return"]()}finally{if(n)throw i}}var f=e._shapeConfiguration,d=f.ctor,p=f.accessors,m=f.options,b=new d(m);b.install(p);var v=b.render(e._renderingContext);v.classList.add("item",b.getClassName()),e._$itemShapeMap.set(v,b),e._$itemDataMap.set(v,t),o.appendChild(v)}),this.$offset.appendChild(o);var h=!0,f=!1,d=void 0;try{for(var p,m=c(this._$itemDataMap.entries());!(h=(p=m.next()).done);h=!0){var v=l(p.value,2),y=v[0],g=v[1];if(-1===this.data.indexOf(g)){var a=this._$itemShapeMap.get(y);this.$offset.removeChild(y),a.destroy(),this._behavior&&this._behavior.unselect(y,g),this._$itemDataMap["delete"](y),this._$itemShapeMap["delete"](y)}}}catch($){f=!0,d=$}finally{try{!h&&m["return"]&&m["return"]()}finally{if(f)throw d}}}},{key:"update",value:function(){this.updateContainer(),this.updateShapes()}},{key:"updateContainer",value:function(){this._updateRenderingContext();var e=this.timeContext,t=e.timeToPixel(e.duration),r=e.parent.timeToPixel(e.start),n=e.timeToPixel(e.offset),i=this.params.top,s=this.params.height,a="matrix(1, 0, 0, -1, "+r+", "+(i+s)+")";this.$el.setAttributeNS(null,"transform",a),this.$boundingBox.setAttributeNS(null,"width",t),this.$boundingBox.setAttributeNS(null,"height",s),this.$boundingBox.style.opacity=this.params.opacity,this.$offset.setAttributeNS(null,"transform","translate("+n+", 0)"),this.contextShape.update(this._renderingContext,this.timeContext,0)}},{key:"updateShapes",value:function(){var e=this;this._updateRenderingContext(),this._$itemCommonShapeMap.forEach(function(t,r){t.update(e._renderingContext,e.data)});var t=!0,r=!1,n=void 0;try{for(var i,s=c(this._$itemDataMap.entries());!(t=(i=s.next()).done);t=!0){var a=l(i.value,2),o=a[0],u=a[1],h=this._$itemShapeMap.get(o);h.update(this._renderingContext,u)}}catch(f){r=!0,n=f}finally{try{!t&&s["return"]&&s["return"]()}finally{if(r)throw n}}}},{key:"start",get:function(){return this.timeContext.start},set:function(e){this.timeContext.start=e}},{key:"offset",get:function(){return this.timeContext.offset},set:function(e){this.timeContext.offset=e}},{key:"duration",get:function(){return this.timeContext.duration},set:function(e){this.timeContext.duration=e}},{key:"stretchRatio",get:function(){return this.timeContext.stretchRatio},set:function(e){this.timeContext.stretchRatio=e}},{key:"yDomain",set:function(e){this.params.yDomain=e,this._valueToPixel.domain(e)},get:function(){return this.params.yDomain}},{key:"opacity",set:function(e){this.params.opacity=e},get:function(){return this.params.opacity}},{key:"timeToPixel",get:function(){return this.timeContext.timeToPixel}},{key:"valueToPixel",get:function(){return this._valueToPixel}},{key:"items",get:function(){return h(this._$itemDataMap.keys())}},{key:"data",get:function(){return this._data},set:function(e){switch(this.dataType){case"entity":this._data?this._data[0]=e:this._data=[e];break;case"collection":this._data=e}}},{key:"selectedItems",get:function(){return this._behavior?this._behavior.selectedItems:[]}}],[{key:"configureTimeContextBehavior",value:function(e){j=e}}]),t}(p["default"].EventEmitter);r["default"]=w,t.exports=r["default"]},{"../behaviors/time-context-behavior":8,"../shapes/segment":39,"../utils/scales":54,"./namespace":12,"babel-runtime/core-js/array/from":56,"babel-runtime/core-js/get-iterator":57,"babel-runtime/core-js/map":59,"babel-runtime/core-js/object/assign":60,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74,"babel-runtime/helpers/sliced-to-array":75,events:168}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r["default"]="http://www.w3.org/2000/svg",t.exports=r["default"]},{}],13:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("../utils/scales"),l=s(a),o=function(){function e(t,r){i(this,e),this._children=[],this._timeToPixel=null,this._offset=0,this._zoom=1,this._computedPixelsPerSecond=t,this._visibleWidth=r,this._maintainVisibleDuration=!1;var n=l["default"].linear().domain([0,1]).range([0,t]);this._timeToPixel=n,this._originalPixelsPerSecond=this._computedPixelsPerSecond}return n(e,[{key:"_updateTimeToPixelRange",value:function(){this.timeToPixel.range([0,this._computedPixelsPerSecond])}},{key:"pixelsPerSecond",get:function(){return this._originalPixelsPerSecond},set:function(e){this._computedPixelsPerSecond=e*this.zoom,this._originalPixelsPerSecond=e,this._updateTimeToPixelRange(),this._children.forEach(function(e){1!==e.stretchRatio&&(e.stretchRatio=e.stretchRatio)})}},{key:"computedPixelsPerSecond",get:function(){return this._computedPixelsPerSecond}},{key:"offset",get:function(){return this._offset},set:function(e){this._offset=e}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=e/this._zoom;this._zoom=e,this._computedPixelsPerSecond=this._originalPixelsPerSecond*e,this._updateTimeToPixelRange(),this._children.forEach(function(e){1!==e.stretchRatio&&(e.stretchRatio=e.stretchRatio*t)})}},{key:"visibleWidth",get:function(){return this._visibleWidth},set:function(e){var t=e/this.visibleWidth;this._visibleWidth=e,this.maintainVisibleDuration&&(this.pixelsPerSecond=this._computedPixelsPerSecond*t)}},{key:"visibleDuration",get:function(){return this.visibleWidth/this._computedPixelsPerSecond}},{key:"maintainVisibleDuration",get:function(){return this._maintainVisibleDuration},set:function(e){this._maintainVisibleDuration=e}},{key:"timeToPixel",get:function(){return this._timeToPixel}}]),e}();r["default"]=o,t.exports=r["default"]},{"../utils/scales":54,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/interop-require-default":74}],14:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/core-js/symbol/iterator")["default"],o=e("babel-runtime/regenerator")["default"],u=e("babel-runtime/core-js/get-iterator")["default"],c=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var h=e("events"),f=c(h),d=e("../interactions/keyboard"),p=c(d),m=e("./layer-time-context"),b=c(m),v=e("../interactions/surface"),y=c(v),g=e("./timeline-time-context"),$=c(g),x=e("./track"),_=c(x),k=e("./track-collection"),j=c(k),w=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?100:arguments[0],r=arguments.length<=1||void 0===arguments[1]?1e3:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],s=i.registerKeyboard,l=void 0===s?!0:s;a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._tracks=new j["default"](this),this._state=null,this._surfaceCtor=y["default"],l&&this.createInteraction(p["default"],document),this._trackById={},this._groupedLayers={},this.timeContext=new $["default"](e,r)}return i(t,e),s(t,[{key:"configureSurface",value:function(e){this._surfaceCtor=e}},{key:"createInteraction",value:function(e,t){var r=this,n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=new e(t,n);i.on("event",function(e){return r._handleEvent(e)})}},{key:"getHitLayers",value:function(e){var t=e.originalEvent.clientX,r=e.originalEvent.clientY,n=[];return this.layers.forEach(function(e){if(e.params.hittable){var i=e.$el.getBoundingClientRect();t>i.left&&t<i.right&&r>i.top&&r<i.bottom&&n.push(e)}}),n}},{key:"_handleEvent",value:function(e){var t="surface"===e.source?this.getHitLayers(e):null;this.emit("event",e,t),this._state&&this._state.handleEvent(e,t)}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(-1!==this.tracks.indexOf(e))throw new Error("track already added to the timeline");this._registerTrackId(e,t),e.configure(this.timeContext),this.tracks.push(e),this.createInteraction(this._surfaceCtor,e.$el)}},{key:"remove",value:function(e){}},{key:"createTrack",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?100:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],n=new _["default"](e,t);return this.add(n,r),n.render(),n.update(),n}},{key:"_registerTrackId",value:function(e,t){if(null!==t){if(void 0!==this._trackById[t])throw new Error('trackId: "'+t+'" is already used');this._trackById[t]=e}}},{key:"addLayer",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?"default":arguments[2],n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],i=t;if("string"==typeof t&&(i=this.getTrackById(t)),!e.timeContext){var s=n?this.timeContext:new b["default"](this.timeContext);
e.setTimeContext(s)}i.add(e),this._groupedLayers[r]||(this._groupedLayers[r]=[]),this._groupedLayers[r].push(e),e.render(),e.update()}},{key:"removeLayer",value:function(e){this.tracks.forEach(function(t){var r=t.layers.indexOf(e);-1!==r&&t.remove(e)});for(var t in this._groupedLayers){var r=this._groupedLayers[t],n=r.indexOf(e);-1!==n&&r.splice(e,1),r.length||delete this._groupedLayers[t]}}},{key:"getTrackById",value:function(e){return this._trackById[e]}},{key:"getTrackFromDOMElement",value:function(e){var t=null,r=null;do e.classList.contains("track")&&(t=e),e=e.parentNode;while(null===t);return this.tracks.forEach(function(e){e.$svg===t&&(r=e)}),r}},{key:"getLayersByGroup",value:function(e){return this._groupedLayers[e]}},{key:l,value:o.mark(function r(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(u(this.tracks),"t0",1);case 1:case"end":return e.stop()}},r,this)})},{key:"offset",get:function(){return this.timeContext.offset},set:function(e){this.timeContext.offset=e}},{key:"zoom",get:function(){return this.timeContext.zoom},set:function(e){this.timeContext.zoom=e}},{key:"pixelsPerSecond",get:function(){return this.timeContext.pixelsPerSecond},set:function(e){this.timeContext.pixelsPerSecond=e}},{key:"visibleWidth",get:function(){return this.timeContext.visibleWidth},set:function(e){this.timeContext.visibleWidth=e}},{key:"timeToPixel",get:function(){return this.timeContext.timeToPixel}},{key:"visibleDuration",get:function(){return this.timeContext.visibleDuration}},{key:"maintainVisibleDuration",set:function(e){this.timeContext.maintainVisibleDuration=e},get:function(){return this.timeContext.maintainVisibleDuration}},{key:"groupedLayers",get:function(){return this._groupedLayers}},{key:"state",set:function(e){this._state&&this._state.exit(),this._state=e,this._state&&this._state.enter()},get:function(){return this._state}},{key:"tracks",get:function(){return this._tracks}},{key:"layers",get:function(){return this._tracks.layers}}]),t}(f["default"].EventEmitter);r["default"]=w,t.exports=r["default"]},{"../interactions/keyboard":29,"../interactions/surface":30,"./layer-time-context":10,"./timeline-time-context":13,"./track":16,"./track-collection":15,"babel-runtime/core-js/get-iterator":57,"babel-runtime/core-js/symbol/iterator":69,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74,"babel-runtime/regenerator":166,events:168}],15:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./layer"),u=l(o),c=function(e){function t(e){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._timeline=e}return i(t,e),s(t,[{key:"_getLayersOrGroups",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=null;return t="string"==typeof e?this._timeline.groupedLayers[e]:e instanceof u["default"]?[e]:this.layers}},{key:"render",value:function(){this.forEach(function(e){return e.render()}),this._timeline.emit("render")}},{key:"update",value:function(e){var t=this._getLayersOrGroups(e);this.forEach(function(e){return e.update(t)}),this._timeline.emit("update",t)}},{key:"updateContainer",value:function(){this.forEach(function(e){return e.updateContainer()}),this._timeline.emit("update:containers")}},{key:"updateLayers",value:function(e){var t=this._getLayersOrGroups(e);this.forEach(function(e){return e.updateLayers(t)}),this._timeline.emit("update:layers",t)}},{key:"height",set:function(e){this.forEach(function(t){return t.height=e})}},{key:"layers",get:function(){var e=[];return this.forEach(function(t){return e=e.concat(t.layers)}),e}}]),t}(Array);r["default"]=c,t.exports=r["default"]},{"./layer":11,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],16:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/core-js/get-iterator")["default"],a=e("babel-runtime/core-js/symbol/iterator")["default"],l=e("babel-runtime/regenerator")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./namespace"),c=o(u),h=function(){function e(t){var r=arguments.length<=1||void 0===arguments[1]?100:arguments[1];i(this,e),this._height=r,this.$el=t,this.$interactions=null,this.$layout=null,this.$offset=null,this.$svg=null,this.$background=null,this.layers=[],this.renderingContext=null,this._createContainer()}return n(e,[{key:"configure",value:function(e){this.renderingContext=e}},{key:"destroy",value:function(){var e=this;this.$el.removeChild(this.$svg),this.layers.forEach(function(t){return e.$layout.removeChild(t.$el)}),this.$el=null,this.renderingContext=null,this.layers.length=0}},{key:"_createContainer",value:function(){var e=document.createElementNS(c["default"],"svg");e.setAttributeNS(null,"shape-rendering","optimizeSpeed"),e.setAttributeNS(null,"height",this.height),e.setAttribute("xmlns:xhtml","http://www.w3.org/1999/xhtml"),e.classList.add("track");var t=document.createElementNS(c["default"],"rect");t.setAttributeNS(null,"height","100%"),t.setAttributeNS(null,"width","100%"),t.style.fillOpacity=0;var r=document.createElementNS(c["default"],"defs"),n=document.createElementNS(c["default"],"g");n.classList.add("offset");var i=document.createElementNS(c["default"],"g");i.classList.add("layout");var s=document.createElementNS(c["default"],"g");s.classList.add("interactions"),n.appendChild(i),e.appendChild(r),e.appendChild(t),e.appendChild(n),e.appendChild(s),this.$el.appendChild(e),this.$el.style.fontSize=0,this.$el.style.transform="translateZ(0)",this.$layout=i,this.$offset=n,this.$interactions=s,this.$svg=e,this.$background=t}},{key:"add",value:function(e){console.log(e),this.layers.push(e),this.$layout.appendChild(e.$el)}},{key:"remove",value:function(e){this.layers.splice(this.layers.indexOf(e),1),this.$layout.removeChild(e.$el)}},{key:"hasElement",value:function(e){do{if(e===this.$el)return!0;e=e.parentNode}while(null!==e);return!1}},{key:"render",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=s(this);!(e=(n=i.next()).done);e=!0){var a=n.value;a.render()}}catch(l){t=!0,r=l}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw r}}}},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];this.updateContainer(),this.updateLayers(e)}},{key:"updateContainer",value:function(){var e=this.$svg,t=this.$offset,r=this.renderingContext,n=this.height,i=Math.round(r.visibleWidth),s=Math.round(r.timeToPixel(r.offset)),a="translate("+s+", 0)";e.setAttributeNS(null,"height",n),e.setAttributeNS(null,"width",i),e.setAttributeNS(null,"viewbox","0 0 "+i+" "+n),t.setAttributeNS(null,"transform",a)}},{key:"updateLayers",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];t=null===t?this.layers:t,t.forEach(function(t){-1!==e.layers.indexOf(t)&&t.update()})}},{key:a,value:l.mark(function t(){return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(s(this.layers),"t0",1);case 1:case"end":return e.stop()}},t,this)})},{key:"height",get:function(){return this._height},set:function(e){this._height=e}}]),e}();r["default"]=h,t.exports=r["default"]},{"./namespace":12,"babel-runtime/core-js/get-iterator":57,"babel-runtime/core-js/symbol/iterator":69,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/interop-require-default":74,"babel-runtime/regenerator":166}],17:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("../shapes/annotated-marker"),o=a(l),u=e("../core/layer"),c=a(u),h=e("../behaviors/marker-behavior"),f=a(h),d=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,r),this.configureShape(o["default"]),this.setBehavior(new f["default"])}return i(t,e),t}(c["default"]);r["default"]=d,t.exports=r["default"]},{"../behaviors/marker-behavior":6,"../core/layer":11,"../shapes/annotated-marker":32,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],18:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/object/assign")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/annotated-segment"),h=l(c),f=e("../behaviors/segment-behavior"),d=l(f),p=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,r),r=a({displayHandlers:!0,opacity:.6},r),this.configureShape(h["default"],i,{displayHandlers:r.displayHandlers,opacity:r.opacity}),this.setBehavior(new d["default"])}return i(t,e),t}(u["default"]);r["default"]=p,t.exports=r["default"]},{"../behaviors/segment-behavior":7,"../core/layer":11,"../shapes/annotated-segment":33,"babel-runtime/core-js/object/assign":60,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],19:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("../behaviors/breakpoint-behavior"),o=a(l),u=e("../shapes/dot"),c=a(u),h=e("../core/layer"),f=a(h),d=e("../shapes/line"),p=a(d),m=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,r);var a=r.color,l={};a&&(i.color=function(){return a},l.color=a),this.configureCommonShape(p["default"],i,l),this.configureShape(c["default"],i,{}),this.setBehavior(new o["default"])}return i(t,e),t}(f["default"]);r["default"]=m,t.exports=r["default"]},{"../behaviors/breakpoint-behavior":5,"../core/layer":11,"../shapes/dot":36,"../shapes/line":37,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],20:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/core-js/object/assign")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/layer"),c=o(u),h=e("../shapes/cursor"),f=o(h),d=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a(this,t);var r={color:"red",hittable:!1},i={currentPosition:0};e=l(r,e),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",i,e),this.configureShape(f["default"],{x:function(e){return e.currentPosition}},{color:e.color})}return i(t,e),s(t,[{key:"currentPosition",set:function(e){this.data[0].currentPosition=e},get:function(){return this.data[0].currentPosition}}]),t}(c["default"]);r["default"]=d,t.exports=r["default"]},{"../core/layer":11,"../shapes/cursor":35,"babel-runtime/core-js/object/assign":60,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],21:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/object/assign")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../axis/axis-layer"),u=l(o),c=e("../shapes/ticks"),h=l(c),f=e("../axis/grid-axis-generator"),d=l(f),p=function(e){function t(e){s(this,t),e=a({color:"steelblue",bpm:60,signature:"4/4"},e),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(0,d["default"])(e.bpm,e.signature),e),this.configureShape(h["default"],{},{color:e.color})}return i(t,e),t}(u["default"]);r["default"]=p,t.exports=r["default"]},{"../axis/axis-layer":1,"../axis/grid-axis-generator":2,"../shapes/ticks":40,"babel-runtime/core-js/object/assign":60,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],22:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/object/assign")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/marker"),h=l(c),f=e("../behaviors/marker-behavior"),d=l(f),p=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,r),r=a({displayHandlers:!0},r);var l=r.color;l&&(i.color=function(){return l}),this.configureShape(h["default"],i,{displayHandlers:r.displayHandlers}),this.setBehavior(new d["default"])}return i(t,e),t}(u["default"]);r["default"]=p,t.exports=r["default"]},{"../behaviors/marker-behavior":6,"../core/layer":11,"../shapes/marker":38,"babel-runtime/core-js/object/assign":60,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],23:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/object/assign")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/segment"),h=l(c),f=e("../behaviors/segment-behavior"),d=l(f),p=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"collection",e,r),r=a({displayHandlers:!0,opacity:.6},r),this.configureShape(h["default"],i,{displayHandlers:r.displayHandlers,opacity:r.opacity}),this.setBehavior(new d["default"])}return i(t,e),t}(u["default"]);r["default"]=p,t.exports=r["default"]},{"../behaviors/segment-behavior":7,"../core/layer":11,"../shapes/segment":39,"babel-runtime/core-js/object/assign":60,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],24:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/object/assign")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/ticks"),h=l(c),f=function(e){function t(e,r,i){s(this,t),r=a({},r),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",e,r);var l=r.color?{color:r.color}:void 0;this.configureShape(h["default"],i,l)}return i(t,e),t}(u["default"]);r["default"]=f,t.exports=r["default"]},{"../core/layer":11,"../shapes/ticks":40,"babel-runtime/core-js/object/assign":60,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],25:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/object/assign")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../axis/axis-layer"),u=l(o),c=e("../shapes/ticks"),h=l(c),f=e("../axis/time-axis-generator"),d=l(f),p=function(e){function t(e){s(this,t),e=a({color:"steelblue"},e),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(0,d["default"])(),e),this.configureShape(h["default"],{},{color:e.color})}return i(t,e),t}(u["default"]);r["default"]=p,t.exports=r["default"]},{"../axis/axis-layer":1,"../axis/time-axis-generator":3,"../shapes/ticks":40,"babel-runtime/core-js/object/assign":60,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],26:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/object/assign")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/trace-path"),h=l(c),f=e("../shapes/trace-dots"),d=l(f),p=e("../behaviors/trace-behavior"),m=l(p),b=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];s(this,t),r=a({displayDots:!0},r),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r.displayDots?"collection":"entity",e,r);var l={};void 0!==r.meanColor&&(l.meanColor=r.meanColor),void 0!==r.rangeColor&&(l.rangeColor=r.rangeColor),void 0!==r.displayMean&&(l.displayMean=r.displayMean),r.displayDots?(this.configureCommonShape(h["default"],i,l),this.configureShape(d["default"],i,l)):this.configureShape(h["default"],i,l),this.setBehavior(new m["default"])}return i(t,e),t}(u["default"]);r["default"]=b,t.exports=r["default"]},{"../behaviors/trace-behavior":9,"../core/layer":11,"../shapes/trace-dots":41,"../shapes/trace-path":42,"babel-runtime/core-js/object/assign":60,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],27:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/object/assign")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/layer"),u=l(o),c=e("../shapes/waveform"),h=l(c),f={yDomain:[-1,1],channel:0,color:"steelblue",renderingStrategy:"svg"},d=function(e){function t(e,r){s(this,t),r=a({},f,r),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"entity",e.getChannelData(r.channel),r),this.configureShape(h["default"],{},{sampleRate:e.sampleRate,color:r.color,renderingStrategy:r.renderingStrategy})}return i(t,e),t}(u["default"]);r["default"]=d,t.exports=r["default"]},{"../core/layer":11,"../shapes/waveform":43,"babel-runtime/core-js/object/assign":60,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],28:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("events"),u=l(o),c=function(e){function t(e){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.$el=e,this._bindEvents()}return i(t,e),s(t,[{key:"_createEvent",value:function(e,t){}},{key:"_bindEvents",value:function(){}}]),t}(u["default"].EventEmitter);r["default"]=c,t.exports=r["default"]},{"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74,events:168}],29:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./event-source"),u=l(o),c=e("./wave-event"),h=l(c),f=function(e){function t(e){return a(this,t),t._instance?t._instance:(n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.sourceName="keyboard",void(t._instance=this))}return i(t,e),s(t,[{key:"_createEvent",value:function(e,t){var r=new h["default"](this.sourceName,e,t);return r.shiftKey=t.shiftKey,r.ctrlKey=t.ctrlKey,r.altKey=t.altKey,r.metaKey=t.metaKey,r["char"]=String.fromCharCode(t.keyCode),r}},{key:"_bindEvents",value:function(){var e=this,t=function(t){var r=e._createEvent("keydown",t);e.emit("event",r)},r=function(t){var r=e._createEvent("keyup",t);e.emit("event",r)};this.$el.addEventListener("keydown",t,!1),this.$el.addEventListener("keyup",r,!1)}}]),t}(u["default"]);r["default"]=f,t.exports=r["default"]},{"./event-source":28,"./wave-event":31,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],30:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./event-source"),u=l(o),c=e("./wave-event"),h=l(c),f=function(e){function t(e){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.sourceName="surface",this._mouseDownEvent=null,this._lastEvent=null}return i(t,e),s(t,[{key:"_createEvent",value:function(e,t){var r=new h["default"](this.sourceName,e,t),n=this._getRelativePosition(t);return r.x=n.x,r.y=n.y,r}},{key:"_getRelativePosition",value:function(e){var t=0,r=0,n=this.$el.getBoundingClientRect(),i=document.body.scrollLeft+document.documentElement.scrollLeft,s=document.body.scrollTop+document.documentElement.scrollTop;return e.pageX||e.pageY?(t=e.pageX,r=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+i,r=e.clientY+s),t-=n.left+i,r-=n.top+s,{x:t,y:r}}},{key:"_defineArea",value:function(e,t,r){if(t&&r){e.dx=e.x-r.x,e.dy=e.y-r.y;var n=t.x<e.x?t.x:e.x,i=t.y<e.y?t.y:e.y,s=Math.abs(Math.round(e.x-t.x)),a=Math.abs(Math.round(e.y-t.y));e.area={left:n,top:i,width:s,height:a}}}},{key:"_bindEvents",value:function(){var e=this,t=function(t){window.getSelection().removeAllRanges();var i=e._createEvent("mousedown",t);e._mouseDownEvent=i,e._lastEvent=i,window.addEventListener("mousemove",r,!1),window.addEventListener("mouseup",n,!1),e.emit("event",i)},r=function(t){var r=e._createEvent("mousemove",t);e._defineArea(r,e._mouseDownEvent,e._lastEvent),e._lastEvent=r,e.emit("event",r)},n=function o(t){var n=e._createEvent("mouseup",t);e._defineArea(n,e._mouseDownEvent,e._lastEvent),e._mouseDownEvent=null,e._lastEvent=null,window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",o),e.emit("event",n)},i=function(t){var r=e._createEvent("click",t);e.emit("event",r)},s=function(t){var r=e._createEvent("dblclick",t);e.emit("event",r)},a=function(t){var r=e._createEvent("mouseover",t);e.emit("event",r)},l=function(t){var r=e._createEvent("mouseout",t);e.emit("event",r)};this.$el.addEventListener("mousedown",t,!1),this.$el.addEventListener("click",i,!1),this.$el.addEventListener("dblclick",s,!1),this.$el.addEventListener("mouseover",a,!1),this.$el.addEventListener("mouseout",l,!1)}}]),t}(u["default"]);r["default"]=f,t.exports=r["default"]},{"./event-source":28,"./wave-event":31,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],31:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=function s(e,t,r){n(this,s),this.source=e,this.type=t,this.originalEvent=r,this.target=r.target,this.currentTarget=r.currentTarget};r["default"]=i,t.exports=r["default"]},{"babel-runtime/helpers/class-call-check":70}],32:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./marker"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"annotated-marker"}},{key:"_getAccessorList",value:function(){var e=n(Object.getPrototypeOf(t.prototype),"_getAccessorList",this).call(this);return e.text="default",e}},{key:"render",value:function(e){this.$el=n(Object.getPrototypeOf(t.prototype),"render",this).call(this,e);var r=e.height;return this.$label=document.createElementNS(this.ns,"text"),this.$label.setAttributeNS(null,"x",8),this.$label.setAttributeNS(null,"y",8),this.$label.setAttributeNS(null,"transform","matrix(1, 0, 0, -1, 0, "+r+")"),this.$label.style.fontSize="10px",this.$label.style.fontFamily="monospace",this.$label.style.color="#242424",this.$label.style.mozUserSelect="none",this.$label.style.webkitUserSelect="none",this.$label.style.userSelect="none",this.$el.appendChild(this.$label),this.$el}},{key:"update",value:function(e,r){n(Object.getPrototypeOf(t.prototype),"update",this).call(this,e,r),this.$label.firstChild&&this.$label.removeChild(this.$label.firstChild);var i=document.createTextNode(this.text(r));this.$label.appendChild(i)}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./marker":38,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],33:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./segment"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"annotated-segment"}},{key:"_getAccessorList",value:function(){var e=n(Object.getPrototypeOf(t.prototype),"_getAccessorList",this).call(this);return e.text="default",e}},{key:"render",value:function(e){this.$el=n(Object.getPrototypeOf(t.prototype),"render",this).call(this,e);var r=e.height;return this.$label=document.createElementNS(this.ns,"text"),this.$label.setAttributeNS(null,"x",3),this.$label.setAttributeNS(null,"y",11),this.$label.setAttributeNS(null,"transform","matrix(1, 0, 0, -1, 0, "+r+")"),this.$label.style.fontSize="10px",this.$label.style.fontFamily="monospace",this.$label.style.color="#242424",this.$label.style.mozUserSelect="none",this.$label.style.webkitUserSelect="none",this.$label.style.userSelect="none",this.$el.appendChild(this.$label),this.$el}},{key:"update",value:function(e,r){n(Object.getPrototypeOf(t.prototype),"update",this).call(this,e,r),this.$label.firstChild&&this.$label.removeChild(this.$label.firstChild);var i=document.createTextNode(this.text(r));this.$label.appendChild(i)}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./segment":39,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],34:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/core-js/object/assign")["default"],a=e("babel-runtime/core-js/object/keys")["default"],l=e("babel-runtime/core-js/object/define-property")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/namespace"),c=o(u),h=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e),this.$el=null,this.ns=c["default"],this.params=s({},this._getDefaults(),t);var r=this._getAccessorList();this._createAccessors(r),this._setDefaultAccessors(r)}return n(e,[{key:"destroy",value:function(){this.$el=null}},{key:"getClassName",value:function(){return"shape"}},{key:"_getDefaults",value:function(){return{}}},{key:"_getAccessorList",value:function(){return{}}},{key:"install",value:function(e){for(var t in e)this[t]=e[t]}},{key:"_createAccessors",value:function(e){this._accessors={};var t=Object.getPrototypeOf(this);a(e).forEach(function(e){t.hasOwnProperty(e)||l(t,e,{get:function(){return this._accessors[e]},set:function(t){this._accessors[e]=t}})})}},{key:"_setDefaultAccessors",value:function(e){var t=this;a(e).forEach(function(r){var n=e[r],i=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return null===t?e[r]||n:void(e[r]=t)};t[r]=i})}},{key:"render",value:function(e){}},{key:"update",value:function(e,t){}},{key:"inArea",value:function(e,t,r,n,i,s){}}]),e}();r["default"]=h,t.exports=r["default"]},{"../core/namespace":12,"babel-runtime/core-js/object/assign":60,"babel-runtime/core-js/object/define-property":62,"babel-runtime/core-js/object/keys":64,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/interop-require-default":74}],35:[function(e,t,r){
"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=e("../core/namespace"),h=l(c),f=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"cursor"}},{key:"_getAccessorList",value:function(){return{x:0}}},{key:"_getDefaults",value:function(){return{color:"#000000",opacity:1}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(h["default"],"line"),this.$el.setAttributeNS(null,"x",0),this.$el.setAttributeNS(null,"y1",0),this.$el.setAttributeNS(null,"y2",e.height),this.$el.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.style.stroke=this.params.color,this.$el)}},{key:"update",value:function(e,t){var r=Math.round(e.timeToPixel(this.x(t)))+.5;this.$el.setAttributeNS(null,"transform","translate("+r+", 0)")}},{key:"inArea",value:function(){return!1}}]),t}(u["default"]);r["default"]=f,t.exports=r["default"]},{"../core/namespace":12,"./base-shape":34,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],36:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"dot"}},{key:"_getAccessorList",value:function(){return{cx:0,cy:0,r:3,color:"#000000"}}},{key:"render",value:function(){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"circle"),this.$el)}},{key:"update",value:function(e,t){var r=e.timeToPixel(this.cx(t)),n=e.valueToPixel(this.cy(t)),i=this.r(t),s=this.color(t);this.$el.setAttributeNS(null,"transform","translate("+r+", "+n+")"),this.$el.setAttributeNS(null,"r",i),this.$el.style.fill=s}},{key:"inArea",value:function(e,t,r,n,i,s){var a=e.timeToPixel(this.cx(t)),l=e.valueToPixel(this.cy(t));return a>r&&i>a&&l>n&&s>l?!0:!1}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-shape":34,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],37:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"line"}},{key:"_getAccessorList",value:function(){return{cx:0,cy:0}}},{key:"_getDefaults",value:function(){return{color:"#000000"}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"path"),this.$el)}},{key:"update",value:function(e,t){var r=this;t=t.slice(0),t.sort(function(e,t){return r.cx(e)<r.cx(t)?-1:1}),this.$el.setAttributeNS(null,"d",this._buildLine(e,t)),this.$el.style.stroke=this.params.color,this.$el.style.fill="none",t=null}},{key:"_buildLine",value:function(e,t){var r=this;if(!t.length)return"";var n=t.map(function(t,n){var i=e.timeToPixel(r.cx(t)),s=e.valueToPixel(r.cy(t))-.5;return i+","+s});return"M"+n.join("L")}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-shape":34,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],38:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"marker"}},{key:"_getAccessorList",value:function(){return{x:0,color:"#ff0000"}}},{key:"_getDefaults",value:function(){return{handlerWidth:7,handlerHeight:10,displayHandlers:!0,opacity:1,color:"red"}}},{key:"render",value:function(e){if(this.$el)return this.$el;var t=e.height;return this.$el=document.createElementNS(this.ns,"g"),this.$line=document.createElementNS(this.ns,"line"),this.$line.setAttributeNS(null,"x",0),this.$line.setAttributeNS(null,"y1",0),this.$line.setAttributeNS(null,"y2",t),this.$line.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.appendChild(this.$line),this.params.displayHandlers&&(this.$handler=document.createElementNS(this.ns,"rect"),this.$handler.setAttributeNS(null,"x",-(this.params.handlerWidth/2)),this.$handler.setAttributeNS(null,"y",e.height-this.params.handlerHeight),this.$handler.setAttributeNS(null,"width",this.params.handlerWidth),this.$handler.setAttributeNS(null,"height",this.params.handlerHeight),this.$handler.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.appendChild(this.$handler)),this.$el.style.opacity=this.params.opacity,this.$el}},{key:"update",value:function(e,t){var r=e.timeToPixel(this.x(t))-.5,n=this.color(t);this.$el.setAttributeNS(null,"transform","translate("+r+", 0)"),this.$line.style.stroke=n,this.params.displayHandlers&&(this.$handler.style.fill=n)}},{key:"inArea",value:function(e,t,r,n,i,s){var a=e.timeToPixel(this.x(t)),l=a-(this.params.handlerWidth-1)/2,o=l+this.params.handlerWidth,u=e.height-this.params.handlerHeight,c=e.height,h=Math.max(0,Math.min(i,o)-Math.max(r,l)),f=Math.max(0,Math.min(s,c)-Math.max(n,u)),d=h*f;return d>0}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-shape":34,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],39:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"segment"}},{key:"_getAccessorList",value:function(){return{x:0,y:0,width:0,height:1,color:"#000000",opacity:1}}},{key:"_getDefaults",value:function(){return{displayHandlers:!0,handlerWidth:2,handlerOpacity:.8,opacity:.6}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$segment=document.createElementNS(this.ns,"rect"),this.$segment.classList.add("segment"),this.$segment.style.opacity=this.params.opacity,this.$segment.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.appendChild(this.$segment),this.params.displayHandlers&&(this.$leftHandler=document.createElementNS(this.ns,"rect"),this.$leftHandler.classList.add("left","handler"),this.$leftHandler.setAttributeNS(null,"width",this.params.handlerWidth),this.$leftHandler.setAttributeNS(null,"shape-rendering","crispEdges"),this.$leftHandler.style.opacity=this.params.handlerOpacity,this.$leftHandler.style.cursor="ew-resize",this.$rightHandler=document.createElementNS(this.ns,"rect"),this.$rightHandler.classList.add("right","handler"),this.$rightHandler.setAttributeNS(null,"width",this.params.handlerWidth),this.$rightHandler.setAttributeNS(null,"shape-rendering","crispEdges"),this.$rightHandler.style.opacity=this.params.handlerOpacity,this.$rightHandler.style.cursor="ew-resize",this.$el.appendChild(this.$leftHandler),this.$el.appendChild(this.$rightHandler)),this.$el)}},{key:"update",value:function(e,t){var r=e.timeToPixel(this.x(t)),n=e.valueToPixel(this.y(t)),i=e.timeToPixel(this.width(t)),s=e.valueToPixel(this.height(t)),a=this.color(t),l=this.opacity(t);if(this.$el.setAttributeNS(null,"transform","translate("+r+", "+n+")"),this.$el.style.opacity=l,this.$segment.setAttributeNS(null,"width",Math.max(i,0)),this.$segment.setAttributeNS(null,"height",s),this.$segment.style.fill=a,this.params.displayHandlers){this.$leftHandler.setAttributeNS(null,"height",s),this.$leftHandler.setAttributeNS(null,"transform","translate(0, 0)"),this.$leftHandler.style.fill=a;var o="translate("+(i-this.params.handlerWidth)+", 0)";this.$rightHandler.setAttributeNS(null,"height",s),this.$rightHandler.setAttributeNS(null,"transform",o),this.$rightHandler.style.fill=a}}},{key:"inArea",value:function(e,t,r,n,i,s){var a=e.timeToPixel(this.x(t)),l=e.timeToPixel(this.x(t)+this.width(t)),o=e.valueToPixel(this.y(t)),u=e.valueToPixel(this.y(t)+this.height(t)),c=Math.max(0,Math.min(i,l)-Math.max(r,a)),h=Math.max(0,Math.min(s,u)-Math.max(n,o)),f=c*h;return f>0}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-shape":34,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],40:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"_getClassName",value:function(){return"tick"}},{key:"_getAccessorList",value:function(){return{time:0,focused:!0,label:""}}},{key:"_getDefaults",value:function(){return{color:"steelblue",focusedOpacity:.8,defaultOpacity:.3}}},{key:"render",value:function(e){return this.$el=document.createElementNS(this.ns,"g"),this.$el}},{key:"update",value:function(e,t){for(var r=this;this.$el.firstChild;)this.$el.removeChild(this.$el.firstChild);var n=document.createDocumentFragment(),i=e.height;t.forEach(function(t){var n=e.timeToPixel(r.time(t)),s=r.focused(t)?r.params.focusedOpacity:r.params.defaultOpacity,a=i,l=document.createElementNS(r.ns,"line");l.classList.add("tick"),l.setAttributeNS(null,"x1",0),l.setAttributeNS(null,"x2",0),l.setAttributeNS(null,"y1",0),l.setAttributeNS(null,"y2",a),l.setAttributeNS(null,"fill","none"),l.setAttributeNS(null,"stroke",r.params.color),l.setAttributeNS(null,"shape-rendering","crispEdges"),l.setAttributeNS(null,"transform","translate("+n+", 0)"),l.setAttributeNS(null,"opacity",s),r.$el.appendChild(l);var o=r.label(t);if(o){var u=document.createElementNS(r.ns,"text");u.classList.add("label");var c=document.createTextNode(o);u.appendChild(c),u.setAttributeNS(null,"transform","matrix(1, 0, 0, -1, "+(n+2)+", "+(a+2)+")"),u.setAttributeNS(null,"y","10"),u.style.fontSize="10px",u.style.lineHeight="10px",u.style.fontFamily="monospace",u.style.color="#676767",u.style.opacity=.9,u.style.mozUserSelect="none",u.style.webkitUserSelect="none",u.style.userSelect="none",r.$el.appendChild(u)}}),this.$el.appendChild(n)}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-shape":34,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],41:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"trace-dots"}},{key:"_getAccessorList",value:function(){return{x:0,mean:0,range:0}}},{key:"_getDefaults",value:function(){return{meanRadius:3,rangeRadius:3,meanColor:"#232323",rangeColor:"steelblue"}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$mean=document.createElementNS(this.ns,"circle"),this.$mean.setAttributeNS(null,"r",this.params.meanRadius),this.$mean.setAttributeNS(null,"stroke",this.params.meanColor),this.$mean.setAttributeNS(null,"fill","transparent"),this.$mean.classList.add("mean"),this.$max=document.createElementNS(this.ns,"circle"),this.$max.setAttributeNS(null,"r",this.params.meanRadius),this.$max.setAttributeNS(null,"stroke",this.params.rangeColor),this.$max.setAttributeNS(null,"fill","transparent"),this.$max.classList.add("max"),this.$min=document.createElementNS(this.ns,"circle"),this.$min.setAttributeNS(null,"r",this.params.meanRadius),this.$min.setAttributeNS(null,"stroke",this.params.rangeColor),this.$min.setAttributeNS(null,"fill","transparent"),this.$min.classList.add("min"),this.$el.appendChild(this.$mean),this.$el.appendChild(this.$max),this.$el.appendChild(this.$min),this.$el)}},{key:"update",value:function(e,t){var r=this.mean(t),n=this.range(t),i=this.x(t),s=""+e.valueToPixel(r);this.$mean.setAttributeNS(null,"transform","translate(0, "+s+")");var a=n/2,l=e.valueToPixel(r+a),o=e.valueToPixel(r-a),u=e.timeToPixel(i);this.$max.setAttributeNS(null,"transform","translate(0, "+l+")"),this.$min.setAttributeNS(null,"transform","translate(0, "+o+")"),this.$el.setAttributeNS(null,"transform","translate("+u+", 0)")}},{key:"inArea",value:function(e,t,r,n,i,s){var a=e.timeToPixel(this.x(t)),l=e.valueToPixel(this.mean(t)),o=e.valueToPixel(this.range(t)),u=l-o/2,c=l+o/2;return a>r&&i>a&&(u>n||s>c)?!0:!1}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-shape":34,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],42:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"trace-common"}},{key:"_getAccessorList",value:function(){return{x:0,mean:0,range:0}}},{key:"_getDefaults",value:function(){return{rangeColor:"steelblue",meanColor:"#232323",displayMean:!0}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$range=document.createElementNS(this.ns,"path"),this.$el.appendChild(this.$range),this.params.displayMean&&(this.$mean=document.createElementNS(this.ns,"path"),this.$el.appendChild(this.$mean)),this.$el)}},{key:"update",value:function(e,t){var r=this;t=t.slice(0),t.sort(function(e,t){return r.x(e)<r.x(t)?-1:1}),this.params.displayMean&&(this.$mean.setAttributeNS(null,"d",this._buildMeanLine(e,t)),this.$mean.setAttributeNS(null,"stroke",this.params.meanColor),this.$mean.setAttributeNS(null,"fill","none")),this.$range.setAttributeNS(null,"d",this._buildRangeZone(e,t)),this.$range.setAttributeNS(null,"stroke","none"),this.$range.setAttributeNS(null,"fill",this.params.rangeColor),this.$range.setAttributeNS(null,"opacity","0.4"),t=null}},{key:"_buildMeanLine",value:function(e,t){var r=this,n=t.map(function(t,n){var i=e.timeToPixel(r.x(t)),s=e.valueToPixel(r.mean(t));return i+","+s});return"M"+n.join("L")}},{key:"_buildRangeZone",value:function(e,t){for(var r=t.length,n="",i="",s=0;r>s;s++){var a=t[s],l=this.mean(a),o=this.range(a)/2,u=e.timeToPixel(this.x(a)),c=e.valueToPixel(l+o),h=e.valueToPixel(l-o),f=u+","+c,d=u+","+h;n=""===n?f:n+"L"+f,i=""===i?d:d+"L"+i}var p="M"+n+"L"+i+"Z";return p}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-shape":34,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],43:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-shape"),u=l(o),c=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"waveform"}},{key:"_getAccessorList",value:function(){return{}}},{key:"_getDefaults",value:function(){return{sampleRate:44100,color:"#000000",opacity:1}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"path"),this.$el.setAttributeNS(null,"fill","none"),this.$el.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.setAttributeNS(null,"stroke",this.params.color),this.$el.style.opacity=this.params.opacity,this.$el)}},{key:"update",value:function(e,t){var r=t instanceof Float32Array?"subarray":"slice",n=t.length,i=n/this.params.sampleRate,s=e.timeToPixel(i),a=n/s;if(a&&!(t.length<a)){var l=Math.max(-e.offsetX,0),o=e.trackOffsetX+e.startX;0>o&&(l=-o);var u=l;u+=e.width-l<e.visibleWidth?e.width:e.visibleWidth;for(var c=e.timeToPixel.invert,h=this.params.sampleRate,f=[],d=l;u>d;d++){for(var p=c(d),m=p*h,b=t[r](m,m+a),v=1/0,y=-(1/0),g=0,$=b.length;$>g;g++){var x=b[g];v>x&&(v=x),x>y&&(y=x)}v=isFinite(v)?v:0,y=isFinite(y)?y:0,(0!==v||0!==y)&&f.push([d,v,y])}if(f.length){var _=0,k=1,j=2,w=(e.valueToPixel(0),f.map(function(t,r){var n=t[_],i=Math.round(e.valueToPixel(t[k])),s=Math.round(e.valueToPixel(t[j]));return n+","+i+"L"+n+","+s})),P="M"+w.join("L");this.$el.setAttributeNS(null,"d",P)}}}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-shape":34,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],44:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(t){i(this,e),this.timeline=t}return n(e,[{key:"enter",value:function(){}},{key:"exit",value:function(){}},{key:"handleEvent",value:function(e,t){}},{key:"tracks",get:function(){return this.timeline.tracks}},{key:"layers",get:function(){return this.timeline.tracks.layers}}]),e}();r["default"]=s,t.exports=r["default"]},{"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71}],45:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-state"),u=l(o),c=function(e){function t(e,r){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.datumGenerator=r,this.currentEditedLayer=null,this.currentTarget=null}return i(t,e),s(t,[{key:"enter",value:function(){}},{key:"exit",value:function(){}},{key:"handleEvent",value:function(e,t){switch(e.type){case"mousedown":this.onMouseDown(e,t);break;case"mousemove":this.onMouseMove(e,t);break;case"mouseup":this.onMouseUp(e,t)}}},{key:"onMouseDown",value:function(e,t){var r=this;this.mouseDown=!0,this.currentTarget=e.target;var n=null,i=t;i.forEach(function(t){t.unselect();var i=t.getItemFromDOMElement(e.target);if(null===i){var s=t.timeToPixel.invert(e.x)-r.timeline.offset,a=t.valueToPixel.invert(t.params.height-e.y),l=r.datumGenerator(s,a);t.data.push(l),n=t}else if(e.originalEvent.shiftKey){var o=t.data,l=t.getDatumFromItem(i);o.splice(o.indexOf(l),1),n=t}else r.currentEditedLayer=t,t.select(i)}),n&&(this.timeline.tracks.render(n),this.timeline.tracks.update(n))}},{key:"onMouseMove",value:function(e){var t=this;if(this.mouseDown&&this.currentEditedLayer){var r=this.currentEditedLayer,n=r.selectedItems;n.forEach(function(n){r.edit(n,e.dx,e.dy,t.currentTarget)}),r.update(n)}}},{key:"onMouseUp",value:function(e){this.currentEditedLayer=null,this.mouseDown=!1}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-state":44,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],46:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../core/namespace"),u=l(o),c=e("./base-state"),h=l(c),f=function(e){function t(e){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return i(t,e),s(t,[{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e);break;case"keydown":this.onKeyDown(e)}}},{key:"onMouseDown",value:function(e){var t=this;this.brushes=[],this.startX=e.x,this.tracks.forEach(function(e){var r=e.$interactions,n=document.createElementNS(u["default"],"rect");n.setAttributeNS(null,"height",e.height),n.setAttributeNS(null,"y",0),n.style.fill="#787878",n.style.opacity=.2,r.appendChild(n),t.brushes.push(n)})}},{key:"onMouseMove",value:function(e){var t=Math.abs(e.x-this.startX),r=Math.min(e.x,this.startX);this.brushes.forEach(function(e){e.setAttributeNS(null,"width",t),e.setAttributeNS(null,"x",r)})}},{key:"onMouseUp",value:function(e){this.brushes.forEach(function(e){e.parentNode.removeChild(e)});var t=this.startX,r=e.x;if(!(Math.abs(t-r)<1)){var n=Math.max(0,Math.min(t,r)),i=Math.max(t,r),s=this.timeline.timeToPixel.invert(n),a=this.timeline.timeToPixel.invert(i),l=a-s,o=this.timeline.visibleDuration/l;this.timeline.offset-=s,this.timeline.zoom*=o,this.tracks.update()}}},{key:"onKeyDown",value:function(e){32===e.originalEvent.keyCode&&(this.timeline.offset=0,this.timeline.zoom=1,this.tracks.update())}}]),t}(h["default"]);r["default"]=f,t.exports=r["default"]},{"../core/namespace":12,"./base-state":44,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],47:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../utils/scales"),u=l(o),c=e("./base-state"),h=l(c),f=function(e){function t(e){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentLayer=null,this.maxZoom=44100/this.timeline.timeContext.pixelsPerSecond,this.minZoom=1e4/3600/this.timeline.timeContext.pixelsPerSecond}return i(t,e),s(t,[{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},{key:"onMouseDown",value:function(e){this.initialZoom=this.timeline.timeContext.zoom,this.initialY=e.y,this._pixelToExponent=u["default"].linear().domain([0,100]).range([0,1])}},{key:"onMouseMove",value:function(e){e.originalEvent.preventDefault();var t=this.timeline.timeContext,r=t.timeToPixel.invert(e.x),n=this._pixelToExponent(e.y-this.initialY),i=this.initialZoom*Math.pow(2,n);t.zoom=Math.min(Math.max(i,this.minZoom),this.maxZoom);var s=t.timeToPixel.invert(e.x),a=s-r;t.offset+=a+t.timeToPixel.invert(e.dx),this.timeline.tracks.update()}},{key:"onMouseUp",value:function(e){}}]),t}(h["default"]);r["default"]=f,t.exports=r["default"]},{"../utils/scales":54,"./base-state":44,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],48:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-state"),u=l(o),c=e("../behaviors/time-context-behavior"),h=(l(c),function(e){function t(e){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return i(t,e),s(t,[{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},{key:"onMouseDown",value:function(e){this.mouseDown=!0,this.currentTarget=e.target;for(var t=0,r=this.layers.length;r>t;t++){var n=this.layers[t];if(n.hasElement(e.target)){this.currentLayer=n;break}}}},{key:"onMouseMove",value:function(e){if(this.mouseDown&&this.currentLayer){var t=this.currentLayer,r=this.currentTarget;e.originalEvent.shiftKey?t.stretchContext(e.dx,e.dy,r):t.editContext(e.dx,e.dy,r),this.timeline.tracks.update(t)}}},{key:"onMouseUp",value:function(e){this.mouseDown=!1,this.currentTarget=null,this.currentLayer=null}}]),t}(u["default"]));r["default"]=h,t.exports=r["default"]},{"../behaviors/time-context-behavior":8,"./base-state":44,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],49:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-state"),u=l(o),c=function(e){function t(e){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentEditedLayer=null,this.currentTarget=null}return i(t,e),s(t,[{key:"enter",value:function(){}},{key:"exit",value:function(){}},{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},{key:"onMouseDown",value:function(e){this.currentTarget=e.target}},{key:"onMouseMove",value:function(e){var t=this;this.layers.forEach(function(r){var n=r.selectedItems;r.edit(n,e.dx,e.dy,t.currentTarget),r.update(n)})}},{key:"onMouseUp",value:function(e){this.currentEditedLayer=null,this.mouseDown=!1}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-state":44,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],50:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/core-js/map")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./base-state"),c=o(u),h=e("../core/namespace"),f=o(h),d=function(e){function t(e){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentLayer=null,this.selectedItems=null,this.mouseDown=!1,this.shiftKey=!1,this._layerSelectedItemsMap=new l}return i(t,e),s(t,[{key:"enter",value:function(){}},{key:"exit",value:function(){var e=this.timeline.containers;for(var t in e)this._removeBrush(e[t])}},{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e);break;case"click":this.onClick(e);break;case"keydown":this.onKey(e);break;case"keyup":this.onKey(e)}}},{key:"_addBrush",value:function(e){if(!e.$brush){var t=document.createElementNS(f["default"],"rect");t.style.fill="#686868",t.style.opacity=.2,e.$interactions.appendChild(t),e.$brush=t}}},{key:"_removeBrush",value:function(e){null!==e.$brush&&(this._resetBrush(e),e.$interactions.removeChild(e.$brush),delete e.$brush)}},{key:"_resetBrush",value:function(e){var t=e.$brush;t.setAttributeNS(null,"transform","translate(0, 0)"),t.setAttributeNS(null,"width",0),t.setAttributeNS(null,"height",0)}},{key:"_updateBrush",value:function(e,t){var r=t.$brush,n="translate("+e.area.left+", "+e.area.top+")";r.setAttributeNS(null,"transform",n),r.setAttributeNS(null,"width",e.area.width),r.setAttributeNS(null,"height",e.area.height)}},{key:"onKey",value:function(e){this.shiftKey=e.shiftKey}},{key:"onMouseDown",value:function(e){var t=this;this._currentTrack=this.timeline.getTrackFromDOMElement(e.target),this._currentTrack&&(this._addBrush(this._currentTrack),this._layerSelectedItemsMap=new l,this._currentTrack.layers.forEach(function(e){t._layerSelectedItemsMap.set(e,e.selectedItems.slice(0))}))}},{key:"onMouseMove",value:function(e){var t=this;this._updateBrush(e,this._currentTrack),this._currentTrack.layers.forEach(function(r){var n=r.selectedItems,i=r.getItemsInArea(e.area);e.originalEvent.shiftKey?!function(){var e=[],s=[],a=t._layerSelectedItemsMap.get(r);i.forEach(function(t){-1===a.indexOf(t)?e.push(t):s.push(t)}),n.forEach(function(e){-1===i.indexOf(e)&&-1===a.indexOf(e)&&s.push(e)}),r.unselect(s),r.select(e)}():(r.unselect(n),r.select(i))})}},{key:"onMouseUp",value:function(e){this._removeBrush(this._currentTrack)}},{key:"onClick",value:function(e){
this._currentTrack&&this._currentTrack.layers.forEach(function(t){var r=t.getItemFromDOMElement(e.target);e.originalEvent.shiftKey||t.unselect(),r&&t.toggleSelection(r)})}}]),t}(c["default"]);r["default"]=d,t.exports=r["default"]},{"../core/namespace":12,"./base-state":44,"babel-runtime/core-js/map":59,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],51:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("./base-state"),u=l(o),c=function(e){function t(e){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentEditedLayer=null,this.currentTarget=null}return i(t,e),s(t,[{key:"enter",value:function(){}},{key:"exit",value:function(){}},{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},{key:"onMouseDown",value:function(e){var t=this;this.currentTarget=e.target,this.layers.forEach(function(r){if(r.hasElement(t.currentTarget)){e.originalEvent.shiftKey||r.unselect();var n=r.getItemFromDOMElement(t.currentTarget);null!==n&&(t.currentEditedLayer=r,requestAnimationFrame(function(){r.select(n)}))}})}},{key:"onMouseMove",value:function(e){if(this.currentEditedLayer){var t=this.currentEditedLayer,r=t.selectedItems;t.edit(r,e.dx,e.dy,this.currentTarget),requestAnimationFrame(function(){t.update(r)})}}},{key:"onMouseUp",value:function(e){this.currentEditedLayer=null}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-state":44,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71,"babel-runtime/helpers/get":72,"babel-runtime/helpers/inherits":73,"babel-runtime/helpers/interop-require-default":74}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r["default"]={padLeft:function(e,t,r){for(e+="";e.length<r;)e=t+e;return e}},t.exports=r["default"]},{}],53:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/core-js/object/keys")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(){i(this,e),this._cols=null,this._rows=null}return n(e,[{key:"_checkConsistency",value:function(){var e=null;for(var t in this._cols){var r=this._cols[t],n=r.length;if(null!==e&&e!==n)throw new Error(this.prototype.constructor.name+": inconsistent data");null===e&&(e=n)}}},{key:"updateFromCols",value:function(){var e=this,t=s(this._cols);t.forEach(function(t,r){var n=e._cols[t];n.forEach(function(r,n){void 0===e._rows[n]&&(e._rows[n]={}),e._rows[n][t]=r})}),this._checkConsistency()}},{key:"updateFromRows",value:function(){var e=this;this._rows.forEach(function(t,r){for(var n in t)0===r&&(e._cols[n]=[]),e._cols[n].push(t[n])}),this._checkConsistency()}},{key:"cols",set:function(e){this._cols=e,this._rows=[],this.updateFromCols()},get:function(){return this._cols}},{key:"rows",set:function(e){this._rows=e,this._cols={},this.updateFromRows()},get:function(){return this._rows}}]),e}();r["default"]=a,t.exports=r["default"]},{"babel-runtime/core-js/object/keys":64,"babel-runtime/helpers/class-call-check":70,"babel-runtime/helpers/create-class":71}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r["default"]={linear:function(){function e(){i=(n[1]-n[0])/(r[1]-r[0]),s=n[0]-i*r[0]}function t(e){return i*e+s}var r=[0,1],n=[0,1],i=1,s=0;return t.invert=function(e){return(e-s)/i},t.domain=function(){var n=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null===n?r:(r=n,e(),t)},t.range=function(){var r=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null===r?n:(n=r,e(),t)},t}},t.exports=r["default"]},{}],55:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("./core/layer-time-context"),s=n(i),a=e("./core/layer"),l=n(a),o=e("./core/namespace"),u=n(o),c=e("./core/timeline-time-context"),h=n(c),f=e("./core/timeline"),d=n(f),p=e("./core/track-collection"),m=n(p),b=e("./core/track"),v=n(b),y=e("./shapes/annotated-marker"),g=n(y),$=e("./shapes/annotated-segment"),x=n($),_=e("./shapes/base-shape"),k=n(_),j=e("./shapes/cursor"),w=n(j),P=e("./shapes/dot"),S=n(P),M=e("./shapes/line"),C=n(M),E=e("./shapes/marker"),O=n(E),T=e("./shapes/segment"),L=n(T),N=e("./shapes/ticks"),A=n(N),D=e("./shapes/trace-path"),q=n(D),R=e("./shapes/trace-dots"),I=n(R),F=e("./shapes/waveform"),B=n(F),H=e("./behaviors/base-behavior"),z=n(H),W=e("./behaviors/breakpoint-behavior"),K=n(W),U=e("./behaviors/marker-behavior"),G=n(U),X=e("./behaviors/segment-behavior"),Z=n(X),Y=e("./behaviors/time-context-behavior"),V=n(Y),J=e("./behaviors/trace-behavior"),Q=n(J),ee=e("./interactions/event-source"),te=n(ee),re=e("./interactions/keyboard"),ne=n(re),ie=e("./interactions/surface"),se=n(ie),ae=e("./interactions/wave-event"),le=n(ae),oe=e("./states/base-state"),ue=n(oe),ce=e("./states/breakpoint-state"),he=n(ce),fe=e("./states/brush-zoom-state"),de=n(fe),pe=e("./states/centered-zoom-state"),me=n(pe),be=e("./states/context-edition-state"),ve=n(be),ye=e("./states/edition-state"),ge=n(ye),$e=e("./states/selection-state"),xe=n($e),_e=e("./states/simple-edition-state"),ke=n(_e),je=e("./helpers/annotated-marker-layer"),we=n(je),Pe=e("./helpers/annotated-segment-layer"),Se=n(Pe),Me=e("./helpers/breakpoint-layer"),Ce=n(Me),Ee=e("./helpers/cursor-layer"),Oe=n(Ee),Te=e("./helpers/grid-axis-layer"),Le=n(Te),Ne=e("./helpers/marker-layer"),Ae=n(Ne),De=e("./helpers/segment-layer"),qe=n(De),Re=e("./helpers/tick-layer"),Ie=n(Re),Fe=e("./helpers/time-axis-layer"),Be=n(Fe),He=e("./helpers/trace-layer"),ze=n(He),We=e("./helpers/waveform-layer"),Ke=n(We),Ue=e("./axis/axis-layer"),Ge=n(Ue),Xe=e("./axis/time-axis-generator"),Ze=n(Xe),Ye=e("./axis/grid-axis-generator"),Ve=n(Ye),Je=e("./utils/format"),Qe=n(Je),et=e("./utils/orthogonal-data"),tt=n(et),rt=e("./utils/scales"),nt=n(rt);r["default"]={core:{LayerTimeContext:s["default"],Layer:l["default"],namespace:u["default"],TimelineTimeContext:h["default"],Timeline:d["default"],TrackCollection:m["default"],Track:v["default"]},shapes:{AnnotatedMarker:g["default"],AnnotatedSegment:x["default"],BaseShape:k["default"],Cursor:w["default"],Dot:S["default"],Line:C["default"],Marker:O["default"],Segment:L["default"],Ticks:A["default"],TracePath:q["default"],TraceDots:I["default"],Waveform:B["default"]},behaviors:{BaseBehavior:z["default"],BreakpointBehavior:K["default"],MarkerBehavior:G["default"],SegmentBehavior:Z["default"],TimeContextBehavior:V["default"],TraceBehavior:Q["default"]},interactions:{EventSource:te["default"],Keyboard:ne["default"],Surface:se["default"],WaveEvent:le["default"]},states:{BaseState:ue["default"],BreakpointState:he["default"],BrushZoomState:de["default"],CenteredZoomState:me["default"],ContextEditionState:ve["default"],EditionState:ge["default"],SelectionState:xe["default"],SimpleEditionState:ke["default"]},helpers:{AnnotatedMarkerLayer:we["default"],AnnotatedSegmentLayer:Se["default"],BreakpointLayer:Ce["default"],CursorLayer:Oe["default"],GridAxisLayer:Le["default"],MarkerLayer:Ae["default"],SegmentLayer:qe["default"],TickLayer:Ie["default"],TimeAxisLayer:Be["default"],TraceLayer:ze["default"],WaveformLayer:Ke["default"]},axis:{AxisLayer:Ge["default"],timeAxisGenerator:Ze["default"],gridAxisGenerator:Ve["default"]},utils:{format:Qe["default"],OrthogonalData:tt["default"],scales:nt["default"]}},t.exports=r["default"]},{"./axis/axis-layer":1,"./axis/grid-axis-generator":2,"./axis/time-axis-generator":3,"./behaviors/base-behavior":4,"./behaviors/breakpoint-behavior":5,"./behaviors/marker-behavior":6,"./behaviors/segment-behavior":7,"./behaviors/time-context-behavior":8,"./behaviors/trace-behavior":9,"./core/layer":11,"./core/layer-time-context":10,"./core/namespace":12,"./core/timeline":14,"./core/timeline-time-context":13,"./core/track":16,"./core/track-collection":15,"./helpers/annotated-marker-layer":17,"./helpers/annotated-segment-layer":18,"./helpers/breakpoint-layer":19,"./helpers/cursor-layer":20,"./helpers/grid-axis-layer":21,"./helpers/marker-layer":22,"./helpers/segment-layer":23,"./helpers/tick-layer":24,"./helpers/time-axis-layer":25,"./helpers/trace-layer":26,"./helpers/waveform-layer":27,"./interactions/event-source":28,"./interactions/keyboard":29,"./interactions/surface":30,"./interactions/wave-event":31,"./shapes/annotated-marker":32,"./shapes/annotated-segment":33,"./shapes/base-shape":34,"./shapes/cursor":35,"./shapes/dot":36,"./shapes/line":37,"./shapes/marker":38,"./shapes/segment":39,"./shapes/ticks":40,"./shapes/trace-dots":41,"./shapes/trace-path":42,"./shapes/waveform":43,"./states/base-state":44,"./states/breakpoint-state":45,"./states/brush-zoom-state":46,"./states/centered-zoom-state":47,"./states/context-edition-state":48,"./states/edition-state":49,"./states/selection-state":50,"./states/simple-edition-state":51,"./utils/format":52,"./utils/orthogonal-data":53,"./utils/scales":54,"babel-runtime/helpers/interop-require-default":74}],56:[function(e,t,r){t.exports={"default":e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":77}],57:[function(e,t,r){t.exports={"default":e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":78}],58:[function(e,t,r){t.exports={"default":e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":79}],59:[function(e,t,r){t.exports={"default":e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":80}],60:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":81}],61:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":82}],62:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":83}],63:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":84}],64:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":85}],65:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":86}],66:[function(e,t,r){t.exports={"default":e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":87}],67:[function(e,t,r){t.exports={"default":e("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":88}],68:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":89}],69:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":90}],70:[function(e,t,r){"use strict";r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r.__esModule=!0},{}],71:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/define-property")["default"];r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(e,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r.__esModule=!0},{"babel-runtime/core-js/object/define-property":62}],72:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/get-own-property-descriptor")["default"];r["default"]=function(e,t,r){for(var i=!0;i;){var s=e,a=t,l=r;i=!1,null===s&&(s=Function.prototype);var o=n(s,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;return void 0===u?void 0:u.call(l)}var c=Object.getPrototypeOf(s);if(null===c)return void 0;e=c,t=a,r=l,i=!0,o=c=void 0}},r.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":63}],73:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],i=e("babel-runtime/core-js/object/set-prototype-of")["default"];r["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},r.__esModule=!0},{"babel-runtime/core-js/object/create":61,"babel-runtime/core-js/object/set-prototype-of":65}],74:[function(e,t,r){"use strict";r["default"]=function(e){return e&&e.__esModule?e:{"default":e}},r.__esModule=!0},{}],75:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/get-iterator")["default"],i=e("babel-runtime/core-js/is-iterable")["default"];r["default"]=function(){function e(e,t){var r=[],i=!0,s=!1,a=void 0;try{for(var l,o=n(e);!(i=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{!i&&o["return"]&&o["return"]()}finally{if(s)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(i(Object(t)))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r.__esModule=!0},{"babel-runtime/core-js/get-iterator":57,"babel-runtime/core-js/is-iterable":58}],76:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/array/from")["default"];r["default"]=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return n(e)},r.__esModule=!0},{"babel-runtime/core-js/array/from":56}],77:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/$.core").Array.from},{"../../modules/$.core":99,"../../modules/es6.array.from":151,"../../modules/es6.string.iterator":161}],78:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":149,"../modules/es6.string.iterator":161,"../modules/web.dom.iterable":165}],79:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/core.is-iterable":150,"../modules/es6.string.iterator":161,"../modules/web.dom.iterable":165}],80:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),t.exports=e("../modules/$.core").Map},{"../modules/$.core":99,"../modules/es6.map":153,"../modules/es6.object.to-string":158,"../modules/es6.string.iterator":161,"../modules/es7.map.to-json":163,"../modules/web.dom.iterable":165}],81:[function(e,t,r){e("../../modules/es6.object.assign"),t.exports=e("../../modules/$.core").Object.assign},{"../../modules/$.core":99,"../../modules/es6.object.assign":154}],82:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t){return n.create(e,t)}},{"../../modules/$":123}],83:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t,r){return n.setDesc(e,t,r)}},{"../../modules/$":123}],84:[function(e,t,r){var n=e("../../modules/$");e("../../modules/es6.object.get-own-property-descriptor"),t.exports=function(e,t){return n.getDesc(e,t)}},{"../../modules/$":123,"../../modules/es6.object.get-own-property-descriptor":155}],85:[function(e,t,r){e("../../modules/es6.object.keys"),t.exports=e("../../modules/$.core").Object.keys},{"../../modules/$.core":99,"../../modules/es6.object.keys":156}],86:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":99,"../../modules/es6.object.set-prototype-of":157}],87:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$.core").Promise},{"../modules/$.core":99,"../modules/es6.object.to-string":158,"../modules/es6.promise":159,"../modules/es6.string.iterator":161,"../modules/web.dom.iterable":165}],88:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),e("../modules/es7.set.to-json"),t.exports=e("../modules/$.core").Set},{"../modules/$.core":99,"../modules/es6.object.to-string":158,"../modules/es6.set":160,"../modules/es6.string.iterator":161,"../modules/es7.set.to-json":164,"../modules/web.dom.iterable":165}],89:[function(e,t,r){e("../../modules/es6.symbol"),t.exports=e("../../modules/$.core").Symbol},{"../../modules/$.core":99,"../../modules/es6.symbol":162}],90:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/$.wks")("iterator")},{"../../modules/$.wks":147,"../../modules/es6.string.iterator":161,"../../modules/web.dom.iterable":165}],91:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],92:[function(e,t,r){var n=e("./$.is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":116}],93:[function(e,t,r){var n=e("./$"),i=e("./$.to-object"),s=e("./$.iobject");t.exports=e("./$.fails")(function(){var e=Object.assign,t={},r={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(e){r[e]=e}),7!=e({},t)[n]||Object.keys(e({},r)).join("")!=i})?function(e,t){for(var r=i(e),a=arguments,l=a.length,o=1,u=n.getKeys,c=n.getSymbols,h=n.isEnum;l>o;)for(var f,d=s(a[o++]),p=c?u(d).concat(c(d)):u(d),m=p.length,b=0;m>b;)h.call(d,f=p[b++])&&(r[f]=d[f]);return r}:Object.assign},{"./$":123,"./$.fails":105,"./$.iobject":113,"./$.to-object":144}],94:[function(e,t,r){var n=e("./$.cof"),i=e("./$.wks")("toStringTag"),s="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[i])?r:s?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},{"./$.cof":95,"./$.wks":147}],95:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],96:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.hide"),s=e("./$.ctx"),a=e("./$.species"),l=e("./$.strict-new"),o=e("./$.defined"),u=e("./$.for-of"),c=e("./$.iter-step"),h=e("./$.uid")("id"),f=e("./$.has"),d=e("./$.is-object"),p=Object.isExtensible||d,m=e("./$.support-desc"),b=m?"_s":"size",v=0,y=function(e,t){if(!d(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!f(e,h)){if(!p(e))return"F";if(!t)return"E";i(e,h,++v)}return"O"+e[h]},g=function(e,t){var r,n=y(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(t,r,i,a){var c=t(function(e,t){l(e,c,r),e._i=n.create(null),e._f=void 0,e._l=void 0,e[b]=0,void 0!=t&&u(t,i,e[a],e)});return e("./$.mix")(c.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[b]=0},"delete":function(e){var t=this,r=g(t,e);if(r){var n=r.n,i=r.p;delete t._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),t._f==r&&(t._f=n),t._l==r&&(t._l=i),t[b]--}return!!r},forEach:function(e){for(var t,r=s(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!g(this,e)}}),m&&n.setDesc(c.prototype,"size",{get:function(){return o(this[b])}}),c},def:function(e,t,r){var n,i,s=g(e,t);return s?s.v=r:(e._l=s={i:i=y(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=s),n&&(n.n=s),e[b]++,"F"!==i&&(e._i[i]=s)),e},getEntry:g,setStrong:function(t,r,n){e("./$.iter-define")(t,r,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?c(0,r.k):"values"==t?c(0,r.v):c(0,[r.k,r.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),a(t),a(e("./$.core")[r])}}},{"./$":123,"./$.core":99,"./$.ctx":100,"./$.defined":102,"./$.for-of":106,"./$.has":109,"./$.hide":110,"./$.is-object":116,"./$.iter-define":119,"./$.iter-step":121,"./$.mix":127,"./$.species":135,"./$.strict-new":136,"./$.support-desc":138,"./$.uid":145}],97:[function(e,t,r){var n=e("./$.for-of"),i=e("./$.classof");t.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");var t=[];return n(this,!1,t.push,t),t}}},{"./$.classof":94,"./$.for-of":106}],98:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.def"),s=e("./$.hide"),a=e("./$.for-of"),l=e("./$.strict-new");t.exports=function(t,r,o,u,c,h){var f=e("./$.global")[t],d=f,p=c?"set":"add",m=d&&d.prototype,b={};return e("./$.support-desc")&&"function"==typeof d&&(h||m.forEach&&!e("./$.fails")(function(){(new d).entries().next()}))?(d=r(function(e,r){l(e,d,t),e._c=new f,void 0!=r&&a(r,c,e[p],e)}),n.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var t="add"==e||"set"==e;e in m&&(!h||"clear"!=e)&&s(d.prototype,e,function(r,n){var i=this._c[e](0===r?0:r,n);return t?this:i})}),"size"in m&&n.setDesc(d.prototype,"size",{get:function(){return this._c.size}})):(d=u.getConstructor(r,t,c,p),e("./$.mix")(d.prototype,o)),e("./$.tag")(d,t),b[t]=d,i(i.G+i.W+i.F,b),h||u.setStrong(d,t,c),d}},{"./$":123,"./$.def":101,"./$.fails":105,"./$.for-of":106,"./$.global":108,"./$.hide":110,"./$.mix":127,"./$.strict-new":136,"./$.support-desc":138,"./$.tag":139}],99:[function(e,t,r){var n=t.exports={version:"1.2.3"};"number"==typeof __e&&(__e=n)},{}],100:[function(e,t,r){var n=e("./$.a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":91}],101:[function(e,t,r){var n=e("./$.global"),i=e("./$.core"),s="prototype",a=function(e,t){return function(){return e.apply(t,arguments)}},l=function(e,t,r){var o,u,c,h,f=e&l.G,d=e&l.P,p=f?n:e&l.S?n[t]:(n[t]||{})[s],m=f?i:i[t]||(i[t]={});f&&(r=t);for(o in r)u=!(e&l.F)&&p&&o in p,u&&o in m||(c=u?p[o]:r[o],f&&"function"!=typeof p[o]?h=r[o]:e&l.B&&u?h=a(c,n):e&l.W&&p[o]==c?!function(e){h=function(t){return this instanceof e?new e(t):e(t)},h[s]=e[s]}(c):h=d&&"function"==typeof c?a(Function.call,c):c,m[o]=h,d&&((m[s]||(m[s]={}))[o]=c))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,t.exports=l},{"./$.core":99,"./$.global":108}],102:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],103:[function(e,t,r){var n=e("./$.is-object"),i=e("./$.global").document,s=n(i)&&n(i.createElement);t.exports=function(e){return s?i.createElement(e):{}}},{"./$.global":108,"./$.is-object":116}],104:[function(e,t,r){var n=e("./$");t.exports=function(e){var t=n.getKeys(e),r=n.getSymbols;if(r)for(var i,s=r(e),a=n.isEnum,l=0;s.length>l;)a.call(e,i=s[l++])&&t.push(i);return t}},{"./$":123}],105:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],106:[function(e,t,r){var n=e("./$.ctx"),i=e("./$.iter-call"),s=e("./$.is-array-iter"),a=e("./$.an-object"),l=e("./$.to-length"),o=e("./core.get-iterator-method");t.exports=function(e,t,r,u){var c,h,f,d=o(e),p=n(r,u,t?2:1),m=0;if("function"!=typeof d)throw TypeError(e+" is not iterable!");if(s(d))for(c=l(e.length);c>m;m++)t?p(a(h=e[m])[0],h[1]):p(e[m]);else for(f=d.call(e);!(h=f.next()).done;)i(f,p,h.value,t)}},{"./$.an-object":92,"./$.ctx":100,"./$.is-array-iter":114,"./$.iter-call":117,"./$.to-length":143,"./core.get-iterator-method":148}],107:[function(e,t,r){var n={}.toString,i=e("./$.to-iobject"),s=e("./$").getNames,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return s(e)}catch(t){return a.slice()}};t.exports.get=function(e){return a&&"[object Window]"==n.call(e)?l(e):s(i(e))}},{"./$":123,"./$.to-iobject":142}],108:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],109:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],110:[function(e,t,r){var n=e("./$"),i=e("./$.property-desc");t.exports=e("./$.support-desc")?function(e,t,r){return n.setDesc(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./$":123,"./$.property-desc":129,"./$.support-desc":138}],111:[function(e,t,r){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":108}],112:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],113:[function(e,t,r){var n=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./$.cof":95}],114:[function(e,t,r){var n=e("./$.iterators"),i=e("./$.wks")("iterator");t.exports=function(e){return(n.Array||Array.prototype[i])===e}},{"./$.iterators":122,"./$.wks":147}],115:[function(e,t,r){var n=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./$.cof":95}],116:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],117:[function(e,t,r){var n=e("./$.an-object");t.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(s){var a=e["return"];throw void 0!==a&&n(a.call(e)),s}}},{"./$.an-object":92}],118:[function(e,t,r){"use strict";var n=e("./$"),i={};e("./$.hide")(i,e("./$.wks")("iterator"),function(){return this}),t.exports=function(t,r,s){t.prototype=n.create(i,{next:e("./$.property-desc")(1,s)}),e("./$.tag")(t,r+" Iterator")}},{"./$":123,"./$.hide":110,"./$.property-desc":129,"./$.tag":139,"./$.wks":147}],119:[function(e,t,r){"use strict";var n=e("./$.library"),i=e("./$.def"),s=e("./$.redef"),a=e("./$.hide"),l=e("./$.has"),o=e("./$.wks")("iterator"),u=e("./$.iterators"),c=!([].keys&&"next"in[].keys()),h="@@iterator",f="keys",d="values",p=function(){return this};t.exports=function(t,r,m,b,v,y,g){e("./$.iter-create")(m,r,b);var $,x,_=function(e){switch(e){case f:return function(){return new m(this,e)};case d:return function(){return new m(this,e)}}return function(){return new m(this,e)}},k=r+" Iterator",j=t.prototype,w=j[o]||j[h]||v&&j[v],P=w||_(v);if(w){var S=e("./$").getProto(P.call(new t));e("./$.tag")(S,k,!0),!n&&l(j,h)&&a(S,o,p)}if((!n||g)&&a(j,o,P),u[r]=P,u[k]=p,v)if($={values:v==d?P:_(d),keys:y?P:_(f),entries:v!=d?P:_("entries")},g)for(x in $)x in j||s(j,x,$[x]);else i(i.P+i.F*c,r,$)}},{"./$":123,"./$.def":101,"./$.has":109,"./$.hide":110,"./$.iter-create":118,"./$.iterators":122,"./$.library":125,"./$.redef":130,"./$.tag":139,"./$.wks":147}],120:[function(e,t,r){var n=e("./$.wks")("iterator"),i=!1;try{var s=[7][n]();s["return"]=function(){i=!0},Array.from(s,function(){throw 2})}catch(a){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var s=[7],a=s[n]();a.next=function(){r=!0},s[n]=function(){return a},e(s)}catch(l){}return r}},{"./$.wks":147}],121:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],122:[function(e,t,r){t.exports={}},{}],123:[function(e,t,r){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},{}],124:[function(e,t,r){var n=e("./$"),i=e("./$.to-iobject");t.exports=function(e,t){for(var r,s=i(e),a=n.getKeys(s),l=a.length,o=0;l>o;)if(s[r=a[o++]]===t)return r}},{"./$":123,"./$.to-iobject":142}],125:[function(e,t,r){t.exports=!0},{}],126:[function(e,t,r){var n,i,s,a=e("./$.global"),l=e("./$.task").set,o=a.MutationObserver||a.WebKitMutationObserver,u=a.process,c="process"==e("./$.cof")(u),h=function(){var e,t;for(c&&(e=u.domain)&&(u.domain=null,e.exit());n;)t=n.domain,t&&t.enter(),n.fn.call(),t&&t.exit(),n=n.next;i=void 0,e&&e.enter()};if(c)s=function(){u.nextTick(h)};else if(o){var f=1,d=document.createTextNode("");new o(h).observe(d,{characterData:!0}),s=function(){d.data=f=-f}}else s=function(){l.call(a,h)};t.exports=function(e){var t={fn:e,next:void 0,domain:c&&u.domain};i&&(i.next=t),n||(n=t,s()),i=t}},{"./$.cof":95,"./$.global":108,"./$.task":140}],127:[function(e,t,r){var n=e("./$.redef");t.exports=function(e,t){for(var r in t)n(e,r,t[r]);return e}},{"./$.redef":130}],128:[function(e,t,r){t.exports=function(t,r){var n=e("./$.def"),i=(e("./$.core").Object||{})[t]||Object[t],s={};s[t]=r(i),n(n.S+n.F*e("./$.fails")(function(){i(1)}),"Object",s)}},{"./$.core":99,"./$.def":101,"./$.fails":105}],129:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],130:[function(e,t,r){t.exports=e("./$.hide")},{"./$.hide":110}],131:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],132:[function(e,t,r){var n=e("./$").getDesc,i=e("./$.is-object"),s=e("./$.an-object"),a=function(e,t){if(s(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,i){try{i=e("./$.ctx")(Function.call,n(Object.prototype,"__proto__").set,2),i(t,[]),r=!(t instanceof Array)}catch(s){r=!0}return function(e,t){return a(e,t),r?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:a}},{"./$":123,"./$.an-object":92,"./$.ctx":100,"./$.is-object":116}],133:[function(e,t,r){var n=e("./$.global"),i="__core-js_shared__",s=n[i]||(n[i]={});t.exports=function(e){return s[e]||(s[e]={})}},{"./$.global":108}],134:[function(e,t,r){var n=e("./$.an-object"),i=e("./$.a-function"),s=e("./$.wks")("species");t.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[s])?t:i(r)}},{"./$.a-function":91,"./$.an-object":92,"./$.wks":147}],135:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.wks")("species");t.exports=function(t){!e("./$.support-desc")||i in t||n.setDesc(t,i,{configurable:!0,get:function(){return this}})}},{"./$":123,"./$.support-desc":138,"./$.wks":147}],136:[function(e,t,r){t.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e}},{}],137:[function(e,t,r){var n=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){return function(t,r){var s,a,l=String(i(t)),o=n(r),u=l.length;return 0>o||o>=u?e?"":void 0:(s=l.charCodeAt(o),55296>s||s>56319||o+1===u||(a=l.charCodeAt(o+1))<56320||a>57343?e?l.charAt(o):s:e?l.slice(o,o+2):(s-55296<<10)+(a-56320)+65536)}}},{"./$.defined":102,"./$.to-integer":141}],138:[function(e,t,r){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":105}],139:[function(e,t,r){var n=e("./$").setDesc,i=e("./$.has"),s=e("./$.wks")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},{"./$":123,"./$.has":109,"./$.wks":147}],140:[function(e,t,r){"use strict";var n,i,s,a=e("./$.ctx"),l=e("./$.invoke"),o=e("./$.html"),u=e("./$.dom-create"),c=e("./$.global"),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,m=0,b={},v="onreadystatechange",y=function(){
var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},g=function(e){y.call(e.data)};f&&d||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return b[++m]=function(){l("function"==typeof e?e:Function(e),t)},n(m),m},d=function(e){delete b[e]},"process"==e("./$.cof")(h)?n=function(e){h.nextTick(a(y,e,1))}:p?(i=new p,s=i.port2,i.port1.onmessage=g,n=a(s.postMessage,s,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",g,!1)):n=v in u("script")?function(e){o.appendChild(u("script"))[v]=function(){o.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),t.exports={set:f,clear:d}},{"./$.cof":95,"./$.ctx":100,"./$.dom-create":103,"./$.global":108,"./$.html":111,"./$.invoke":112}],141:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},{}],142:[function(e,t,r){var n=e("./$.iobject"),i=e("./$.defined");t.exports=function(e){return n(i(e))}},{"./$.defined":102,"./$.iobject":113}],143:[function(e,t,r){var n=e("./$.to-integer"),i=Math.min;t.exports=function(e){return e>0?i(n(e),9007199254740991):0}},{"./$.to-integer":141}],144:[function(e,t,r){var n=e("./$.defined");t.exports=function(e){return Object(n(e))}},{"./$.defined":102}],145:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],146:[function(e,t,r){t.exports=function(){}},{}],147:[function(e,t,r){var n=e("./$.shared")("wks"),i=e("./$.global").Symbol;t.exports=function(t){return n[t]||(n[t]=i&&i[t]||(i||e("./$.uid"))("Symbol."+t))}},{"./$.global":108,"./$.shared":133,"./$.uid":145}],148:[function(e,t,r){var n=e("./$.classof"),i=e("./$.wks")("iterator"),s=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||s[n(e)]:void 0}},{"./$.classof":94,"./$.core":99,"./$.iterators":122,"./$.wks":147}],149:[function(e,t,r){var n=e("./$.an-object"),i=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},{"./$.an-object":92,"./$.core":99,"./core.get-iterator-method":148}],150:[function(e,t,r){var n=e("./$.classof"),i=e("./$.wks")("iterator"),s=e("./$.iterators");t.exports=e("./$.core").isIterable=function(e){var t=Object(e);return i in t||"@@iterator"in t||s.hasOwnProperty(n(t))}},{"./$.classof":94,"./$.core":99,"./$.iterators":122,"./$.wks":147}],151:[function(e,t,r){"use strict";var n=e("./$.ctx"),i=e("./$.def"),s=e("./$.to-object"),a=e("./$.iter-call"),l=e("./$.is-array-iter"),o=e("./$.to-length"),u=e("./core.get-iterator-method");i(i.S+i.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,c,h=s(e),f="function"==typeof this?this:Array,d=arguments,p=d.length,m=p>1?d[1]:void 0,b=void 0!==m,v=0,y=u(h);if(b&&(m=n(m,p>2?d[2]:void 0,2)),void 0==y||f==Array&&l(y))for(t=o(h.length),r=new f(t);t>v;v++)r[v]=b?m(h[v],v):h[v];else for(c=y.call(h),r=new f;!(i=c.next()).done;v++)r[v]=b?a(c,m,[i.value,v],!0):i.value;return r.length=v,r}})},{"./$.ctx":100,"./$.def":101,"./$.is-array-iter":114,"./$.iter-call":117,"./$.iter-detect":120,"./$.to-length":143,"./$.to-object":144,"./core.get-iterator-method":148}],152:[function(e,t,r){"use strict";var n=e("./$.unscope"),i=e("./$.iter-step"),s=e("./$.iterators"),a=e("./$.to-iobject");e("./$.iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},{"./$.iter-define":119,"./$.iter-step":121,"./$.iterators":122,"./$.to-iobject":142,"./$.unscope":146}],153:[function(e,t,r){"use strict";var n=e("./$.collection-strong");e("./$.collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(this,e);return t&&t.v},set:function(e,t){return n.def(this,0===e?0:e,t)}},n,!0)},{"./$.collection":98,"./$.collection-strong":96}],154:[function(e,t,r){var n=e("./$.def");n(n.S+n.F,"Object",{assign:e("./$.assign")})},{"./$.assign":93,"./$.def":101}],155:[function(e,t,r){var n=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(n(t),r)}})},{"./$.object-sap":128,"./$.to-iobject":142}],156:[function(e,t,r){var n=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function(t){return e(n(t))}})},{"./$.object-sap":128,"./$.to-object":144}],157:[function(e,t,r){var n=e("./$.def");n(n.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.def":101,"./$.set-proto":132}],158:[function(e,t,r){},{}],159:[function(e,t,r){"use strict";var n,i=e("./$"),s=e("./$.library"),a=e("./$.global"),l=e("./$.ctx"),o=e("./$.classof"),u=e("./$.def"),c=e("./$.is-object"),h=e("./$.an-object"),f=e("./$.a-function"),d=e("./$.strict-new"),p=e("./$.for-of"),m=e("./$.set-proto").set,b=e("./$.same"),v=e("./$.species"),y=e("./$.wks")("species"),g=e("./$.species-constructor"),$=e("./$.uid")("record"),x=e("./$.microtask"),_="Promise",k=a.process,j="process"==o(k),w=a[_],P=function(e){var t=new w(function(){});return e&&(t.constructor=Object),w.resolve(t)===t},S=function(){function t(e){var r=new w(e);return m(r,t.prototype),r}var r=!1;try{if(r=w&&w.resolve&&P(),m(t,w),t.prototype=i.create(w.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(r=!1),r&&e("./$.support-desc")){var n=!1;w.resolve(i.setDesc({},"then",{get:function(){n=!0}})),r=n}}catch(s){r=!1}return r}(),M=function(e){return c(e)&&(S?"Promise"==o(e):$ in e)},C=function(e,t){return s&&e===w&&t===n?!0:b(e,t)},E=function(e){var t=h(e)[y];return void 0!=t?t:e},O=function(e){var t;return c(e)&&"function"==typeof(t=e.then)?t:!1},T=function(e,t){if(!e.n){e.n=!0;var r=e.c;x(function(){for(var n=e.v,i=1==e.s,s=0,l=function(t){var r,s,a=i?t.ok:t.fail;try{a?(i||(e.h=!0),r=a===!0?n:a(n),r===t.P?t.rej(TypeError("Promise-chain cycle")):(s=O(r))?s.call(r,t.res,t.rej):t.res(r)):t.rej(n)}catch(l){t.rej(l)}};r.length>s;)l(r[s++]);r.length=0,e.n=!1,t&&setTimeout(function(){var t,r,i=e.p;L(i)&&(j?k.emit("unhandledRejection",n,i):(t=a.onunhandledrejection)?t({promise:i,reason:n}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",n)),e.a=void 0},1)})}},L=function(e){var t,r=e[$],n=r.a||r.c,i=0;if(r.h)return!1;for(;n.length>i;)if(t=n[i++],t.fail||!L(t.P))return!1;return!0},N=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),T(t,!0))},A=function(e){var t,r=this;if(!r.d){r.d=!0,r=r.r||r;try{(t=O(e))?x(function(){var n={r:r,d:!1};try{t.call(e,l(A,n,1),l(N,n,1))}catch(i){N.call(n,i)}}):(r.v=e,r.s=1,T(r,!1))}catch(n){N.call({r:r,d:!1},n)}}};S||(w=function(e){f(e);var t={p:d(this,w,_),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};this[$]=t;try{e(l(A,t,1),l(N,t,1))}catch(r){N.call(t,r)}},e("./$.mix")(w.prototype,{then:function(e,t){var r={ok:"function"==typeof e?e:!0,fail:"function"==typeof t?t:!1},n=r.P=new(g(this,w))(function(e,t){r.res=e,r.rej=t});f(r.res),f(r.rej);var i=this[$];return i.c.push(r),i.a&&i.a.push(r),i.s&&T(i,!1),n},"catch":function(e){return this.then(void 0,e)}})),u(u.G+u.W+u.F*!S,{Promise:w}),e("./$.tag")(w,_),v(w),v(n=e("./$.core")[_]),u(u.S+u.F*!S,_,{reject:function(e){return new this(function(t,r){r(e)})}}),u(u.S+u.F*(!S||P(!0)),_,{resolve:function(e){return M(e)&&C(e.constructor,this)?e:new this(function(t){t(e)})}}),u(u.S+u.F*!(S&&e("./$.iter-detect")(function(e){w.all(e)["catch"](function(){})})),_,{all:function(e){var t=E(this),r=[];return new t(function(n,s){p(e,!1,r.push,r);var a=r.length,l=Array(a);a?i.each.call(r,function(e,r){t.resolve(e).then(function(e){l[r]=e,--a||n(l)},s)}):n(l)})},race:function(e){var t=E(this);return new t(function(r,n){p(e,!1,function(e){t.resolve(e).then(r,n)})})}})},{"./$":123,"./$.a-function":91,"./$.an-object":92,"./$.classof":94,"./$.core":99,"./$.ctx":100,"./$.def":101,"./$.for-of":106,"./$.global":108,"./$.is-object":116,"./$.iter-detect":120,"./$.library":125,"./$.microtask":126,"./$.mix":127,"./$.same":131,"./$.set-proto":132,"./$.species":135,"./$.species-constructor":134,"./$.strict-new":136,"./$.support-desc":138,"./$.tag":139,"./$.uid":145,"./$.wks":147}],160:[function(e,t,r){"use strict";var n=e("./$.collection-strong");e("./$.collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(this,e=0===e?0:e,e)}},n)},{"./$.collection":98,"./$.collection-strong":96}],161:[function(e,t,r){"use strict";var n=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":119,"./$.string-at":137}],162:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.global"),s=e("./$.has"),a=e("./$.support-desc"),l=e("./$.def"),o=e("./$.redef"),u=e("./$.fails"),c=e("./$.shared"),h=e("./$.tag"),f=e("./$.uid"),d=e("./$.wks"),p=e("./$.keyof"),m=e("./$.get-names"),b=e("./$.enum-keys"),v=e("./$.is-array"),y=e("./$.an-object"),g=e("./$.to-iobject"),$=e("./$.property-desc"),x=n.getDesc,_=n.setDesc,k=n.create,j=m.get,w=i.Symbol,P=i.JSON,S=P&&P.stringify,M=!1,C=d("_hidden"),E=n.isEnum,O=c("symbol-registry"),T=c("symbols"),L="function"==typeof w,N=Object.prototype,A=a&&u(function(){return 7!=k(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=x(N,t);n&&delete N[t],_(e,t,r),n&&e!==N&&_(N,t,n)}:_,D=function(e){var t=T[e]=k(w.prototype);return t._k=e,a&&M&&A(N,e,{configurable:!0,set:function(t){s(this,C)&&s(this[C],e)&&(this[C][e]=!1),A(this,e,$(1,t))}}),t},q=function(e){return"symbol"==typeof e},R=function(e,t,r){return r&&s(T,t)?(r.enumerable?(s(e,C)&&e[C][t]&&(e[C][t]=!1),r=k(r,{enumerable:$(0,!1)})):(s(e,C)||_(e,C,$(1,{})),e[C][t]=!0),A(e,t,r)):_(e,t,r)},I=function(e,t){y(e);for(var r,n=b(t=g(t)),i=0,s=n.length;s>i;)R(e,r=n[i++],t[r]);return e},F=function(e,t){return void 0===t?k(e):I(k(e),t)},B=function(e){var t=E.call(this,e);return t||!s(this,e)||!s(T,e)||s(this,C)&&this[C][e]?t:!0},H=function(e,t){var r=x(e=g(e),t);return!r||!s(T,t)||s(e,C)&&e[C][t]||(r.enumerable=!0),r},z=function(e){for(var t,r=j(g(e)),n=[],i=0;r.length>i;)s(T,t=r[i++])||t==C||n.push(t);return n},W=function(e){for(var t,r=j(g(e)),n=[],i=0;r.length>i;)s(T,t=r[i++])&&n.push(T[t]);return n},K=function(e){for(var t,r,n=[e],i=1,s=arguments;s.length>i;)n.push(s[i++]);return t=n[1],"function"==typeof t&&(r=t),(r||!v(t))&&(t=function(e,t){return r&&(t=r.call(this,e,t)),q(t)?void 0:t}),n[1]=t,S.apply(P,n)},U=u(function(){var e=w();return"[null]"!=S([e])||"{}"!=S({a:e})||"{}"!=S(Object(e))});L||(w=function(){if(q(this))throw TypeError("Symbol is not a constructor");return D(f(arguments.length>0?arguments[0]:void 0))},o(w.prototype,"toString",function(){return this._k}),q=function(e){return e instanceof w},n.create=F,n.isEnum=B,n.getDesc=H,n.setDesc=R,n.setDescs=I,n.getNames=m.get=z,n.getSymbols=W,a&&!e("./$.library")&&o(N,"propertyIsEnumerable",B,!0));var G={"for":function(e){return s(O,e+="")?O[e]:O[e]=w(e)},keyFor:function(e){return p(O,e)},useSetter:function(){M=!0},useSimple:function(){M=!1}};n.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=d(e);G[e]=L?t:D(t)}),M=!0,l(l.G+l.W,{Symbol:w}),l(l.S,"Symbol",G),l(l.S+l.F*!L,"Object",{create:F,defineProperty:R,defineProperties:I,getOwnPropertyDescriptor:H,getOwnPropertyNames:z,getOwnPropertySymbols:W}),P&&l(l.S+l.F*(!L||U),"JSON",{stringify:K}),h(w,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},{"./$":123,"./$.an-object":92,"./$.def":101,"./$.enum-keys":104,"./$.fails":105,"./$.get-names":107,"./$.global":108,"./$.has":109,"./$.is-array":115,"./$.keyof":124,"./$.library":125,"./$.property-desc":129,"./$.redef":130,"./$.shared":133,"./$.support-desc":138,"./$.tag":139,"./$.to-iobject":142,"./$.uid":145,"./$.wks":147}],163:[function(e,t,r){var n=e("./$.def");n(n.P,"Map",{toJSON:e("./$.collection-to-json")("Map")})},{"./$.collection-to-json":97,"./$.def":101}],164:[function(e,t,r){var n=e("./$.def");n(n.P,"Set",{toJSON:e("./$.collection-to-json")("Set")})},{"./$.collection-to-json":97,"./$.def":101}],165:[function(e,t,r){e("./es6.array.iterator");var n=e("./$.iterators");n.NodeList=n.HTMLCollection=n.Array},{"./$.iterators":122,"./es6.array.iterator":152}],166:[function(e,t,r){(function(r){var n="object"==typeof r?r:"object"==typeof window?window:"object"==typeof self?self:this,i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,s=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=e("./runtime"),i)n.regeneratorRuntime=s;else try{delete n.regeneratorRuntime}catch(a){n.regeneratorRuntime=void 0}t.exports={"default":t.exports,__esModule:!0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./runtime":167}],167:[function(e,t,r){(function(r,n){"use strict";var i=e("babel-runtime/core-js/symbol")["default"],s=e("babel-runtime/core-js/symbol/iterator")["default"],a=e("babel-runtime/core-js/object/create")["default"],l=e("babel-runtime/core-js/promise")["default"];!function(e){function n(e,t,r,n){var i=a((t||u).prototype);return i._invoke=m(e,r||null,new y(n||[])),i}function o(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function u(){}function c(){}function h(){}function f(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function d(e){this.arg=e}function p(e){function t(t,r){var n=e[t](r),i=n.value;return i instanceof d?l.resolve(i.arg).then(s,a):l.resolve(i).then(function(e){return n.value=e,n})}function n(e,r){var n=i?i.then(function(){return t(e,r)}):new l(function(n){n(t(e,r))});return i=n["catch"](function(e){}),n}"object"==typeof r&&r.domain&&(t=r.domain.bind(t));var i,s=t.bind(e,"next"),a=t.bind(e,"throw");t.bind(e,"return");this._invoke=n}function m(e,t,r){var n=P;return function(i,s){if(n===M)throw new Error("Generator is already running");if(n===C){if("throw"===i)throw s;return $()}for(;;){var a=r.delegate;if(a){if("return"===i||"throw"===i&&a.iterator[i]===x){r.delegate=null;var l=a.iterator["return"];if(l){var u=o(l,a.iterator,s);if("throw"===u.type){i="throw",s=u.arg;continue}}if("return"===i)continue}var u=o(a.iterator[i],a.iterator,s);if("throw"===u.type){r.delegate=null,i="throw",s=u.arg;continue}i="next",s=x;var c=u.arg;if(!c.done)return n=S,c;r[a.resultName]=c.value,r.next=a.nextLoc,r.delegate=null}if("next"===i)n===S?r.sent=s:r.sent=x;else if("throw"===i){if(n===P)throw n=C,s;r.dispatchException(s)&&(i="next",s=x)}else"return"===i&&r.abrupt("return",s);n=M;var u=o(e,t,r);if("normal"===u.type){n=r.done?C:S;var c={value:u.arg,done:r.done};if(u.arg!==E)return c;r.delegate&&"next"===i&&(s=x)}else"throw"===u.type&&(n=C,i="throw",s=u.arg)}}}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function v(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function g(e){if(e){var t=e[k];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function i(){for(;++r<e.length;)if(_.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=x,i.done=!0,i};return n.next=n}}return{next:$}}function $(){return{value:x,done:!0}}var x,_=Object.prototype.hasOwnProperty,k="function"==typeof i&&s||"@@iterator",j="object"==typeof t,w=e.regeneratorRuntime;if(w)return void(j&&(t.exports=w));w=e.regeneratorRuntime=j?t.exports:{},w.wrap=n;var P="suspendedStart",S="suspendedYield",M="executing",C="completed",E={},O=h.prototype=u.prototype;c.prototype=O.constructor=h,h.constructor=c,c.displayName="GeneratorFunction",w.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===c||"GeneratorFunction"===(t.displayName||t.name):!1},w.mark=function(e){return e.__proto__=h,e.prototype=a(O),e},w.awrap=function(e){return new d(e)},f(p.prototype),w.async=function(e,t,r,i){var s=new p(n(e,t,r,i));return w.isGeneratorFunction(t)?s:s.next().then(function(e){return e.done?e.value:s.next()})},f(O),O[k]=function(){return this},O.toString=function(){return"[object Generator]"},w.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},w.values=g,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=x,this.done=!1,this.delegate=null,this.tryEntries.forEach(v),!e)for(var t in this)"t"===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=x)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return s.type="throw",s.arg=e,r.next=t,!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=_.call(i,"catchLoc"),l=_.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&_.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?this.next=i.finallyLoc:this.complete(s),E},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),v(r),E}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;v(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:g(e),resultName:t,nextLoc:r},E}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:void 0)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:169,"babel-runtime/core-js/object/create":61,"babel-runtime/core-js/promise":66,"babel-runtime/core-js/symbol":68,"babel-runtime/core-js/symbol/iterator":69}],168:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function s(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function l(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!s(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,s,o,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],l(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,s=new Array(n-1),o=1;n>o;o++)s[o-1]=arguments[o];r.apply(this,s)}else if(a(r)){for(n=arguments.length,s=new Array(n-1),o=1;n>o;o++)s[o-1]=arguments[o];for(u=r.slice(),n=u.length,o=0;n>o;o++)u[o].apply(this,s)}return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var r;r=l(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,s,l;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],s=r.length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(l=s;l-->0;)if(r[l]===t||r[l].listener&&r[l].listener===t){n=l;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],i(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],169:[function(e,t,r){function n(){c=!1,l.length?u=l.concat(u):h=-1,u.length&&i()}function i(){if(!c){var e=setTimeout(n);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,clearTimeout(e)}}function s(e,t){this.fun=e,this.array=t}function a(){}var l,o=t.exports={},u=[],c=!1,h=-1;o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new s(e,t)),1!==u.length||c||setTimeout(i,0)},s.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=a,o.addListener=a,o.once=a,o.off=a,o.removeListener=a,o.removeAllListeners=a,o.emit=a,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}]},{},[55])(55)});